<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¦å…‹æ¸¸æˆæœåŠ¡å™¨é¡¹ç›®æ–‡æ¡£</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/image-modal.js"></script>
    <script src="js/language-selector.js"></script>
</head>
<body>
    <div class="md-container">
        <div class="md-header">
            <h1>å¦å…‹æ¸¸æˆæœåŠ¡å™¨é¡¹ç›®</h1>
            <p class="paragraph">ä½¿ç”¨ProudNetç½‘ç»œåº“å®ç°çš„å¤šäººå¦å…‹æ¸¸æˆæœåŠ¡å™¨ï¼Œæä¾›C#å’ŒC++ä¸¤ä¸ªç‰ˆæœ¬ï¼Œæ”¯æŒè·¨å¹³å°ã€‚</p>
        </div>

        <div class="md-nav">
            <h3 class="heading-3">ğŸ“‹ ç›®å½•</h3>
            <ul class="unordered-list">
                <li class="list-item"><a href="#prerequisites" class="link">å‰ç½®æ¡ä»¶</a></li>
                <li class="list-item"><a href="#project-structure" class="link">é¡¹ç›®ç»“æ„</a></li>
                <li class="list-item"><a href="#development-notes" class="link">å¼€å‘è¯´æ˜</a></li>
                <li class="list-item"><a href="#getting-started" class="link">å¼€å§‹ä½¿ç”¨</a></li>
                <li class="list-item"><a href="#cs-server-implementation" class="link">1. C#æœåŠ¡å™¨å®ç°</a></li>
                <li class="list-item"><a href="#cs-client-implementation" class="link">2. C#å®¢æˆ·ç«¯å®ç°</a></li>
                <li class="list-item"><a href="#cpp-server-implementation" class="link">3. C++æœåŠ¡å™¨å®ç°ï¼ˆå¯é€‰ï¼‰</a></li>
                <li class="list-item"><a href="#multiplayer-movement-testing" class="link">4. å¤šäººç§»åŠ¨æµ‹è¯•</a></li>
                <li class="list-item"><a href="#fire-and-messaging-testing" class="link">5. å°„å‡»å’Œæ¶ˆæ¯æµ‹è¯•</a></li>
                <li class="list-item"><a href="#troubleshooting" class="link">æ•…éšœæ’é™¤</a></li>
            </ul>
        </div>

        <section id="prerequisites" class="md-section">
            <h2 class="heading-2">å‰ç½®æ¡ä»¶</h2>
            <p class="paragraph">åœ¨æ„å»ºæ­¤é¡¹ç›®ä¹‹å‰ï¼Œæ‚¨å¿…é¡»åœ¨ä¸<code class="inline-code">tank_server</code>é¡¹ç›®æ–‡ä»¶å¤¹ç›¸åŒçº§åˆ«å®‰è£…<strong class="text-strong">ProudNet</strong>æ–‡ä»¶å¤¹ã€‚</p>

            <h3 class="heading-3">æ‰€éœ€ç›®å½•ç»“æ„</h3>
            <div class="code-block">
                <pre>project_root/
â”œâ”€â”€ tank_server/          # This project
â”‚   â”œâ”€â”€ Common/
â”‚   â”œâ”€â”€ Server/
â”‚   â”œâ”€â”€ Client/
â”‚   â””â”€â”€ Server_CPP/
â””â”€â”€ ProudNet/            # Required: Files from ProudNet installation
    â”œâ”€â”€ doc/             # ProudNet documentation
    â”œâ”€â”€ include/         # ProudNet header files
    â”œâ”€â”€ lib/             # ProudNet library files
    â”œâ”€â”€ Sample/          # ProudNet sample projects
    â””â”€â”€ util/            # ProudNet utilities</pre>
            </div>

            <h3 class="heading-3">ProudNetå®‰è£…</h3>
            <ol class="ordered-list">
                <li class="list-item">ä»å®˜æ–¹ç½‘ç«™ä¸‹è½½å¹¶å®‰è£…ProudNet</li>
                <li class="list-item">ç¡®ä¿ProudNetæ–‡ä»¶å¤¹åŒ…å«ä»¥ä¸‹å­ç›®å½•ï¼š
                    <ul class="unordered-list">
                        <li class="list-item"><code class="inline-code">doc/</code> - æ–‡æ¡£æ–‡ä»¶</li>
                        <li class="list-item"><code class="inline-code">include/</code> - C++å¼€å‘çš„å¤´æ–‡ä»¶</li>
                        <li class="list-item"><code class="inline-code">lib/</code> - .NETå’ŒC++çš„åº“æ–‡ä»¶</li>
                        <li class="list-item"><code class="inline-code">Sample/</code> - ç¤ºä¾‹é¡¹ç›®</li>
                        <li class="list-item"><code class="inline-code">util/</code> - å®ç”¨å·¥å…·å’Œè®¸å¯è¯è®¤è¯</li>
                    </ul>
                </li>
            </ol>
        </section>

        <section id="project-structure" class="md-section">
            <h2 class="heading-2">é¡¹ç›®ç»“æ„</h2>
            
            <h3 class="heading-3">ğŸ“ Common</h3>
            <p class="paragraph">åŒ…å«æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å®ç°å…±åŒä½¿ç”¨çš„å…±äº«èµ„æºã€‚</p>
            
            <p class="paragraph"><strong class="text-strong">å†…å®¹ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">PIDLæ–‡ä»¶</strong> - å®šä¹‰RMIï¼ˆè¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼‰å‡½æ•°çš„åè®®æ¥å£å®šä¹‰è¯­è¨€æ–‡ä»¶</li>
                <li class="list-item"><strong class="text-strong">æ‰¹å¤„ç†æ–‡ä»¶</strong> - å°†PIDLæ–‡ä»¶ç¼–è¯‘ä¸ºC#å’ŒC++å­˜æ ¹/ä»£ç†ç±»çš„è„šæœ¬</li>
                <li class="list-item"><strong class="text-strong">Vars.cs/Vars.h</strong> - å…±äº«é…ç½®å˜é‡ï¼ˆæœåŠ¡å™¨ç«¯å£ã€åè®®ç‰ˆæœ¬ç­‰ï¼‰</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">å…³é”®æ–‡ä»¶ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">Tank.PIDL</code> - å¦å…‹æ¸¸æˆåè®®å®šä¹‰</li>
                <li class="list-item"><code class="inline-code">CompilePIDL_cs.bat</code> - PIDLç¼–è¯‘è„šæœ¬ï¼ˆC#ï¼‰</li>
                <li class="list-item"><code class="inline-code">CompilePIDL_cpp.bat</code> - PIDLç¼–è¯‘è„šæœ¬ï¼ˆC++ï¼‰</li>
                <li class="list-item"><code class="inline-code">Vars.cs</code> - C#é…ç½®</li>
                <li class="list-item"><code class="inline-code">Vars.h</code> - C++é…ç½®</li>
            </ul>

            <h3 class="heading-3">ğŸ–¥ï¸ Server</h3>
            <p class="paragraph">å¦å…‹æ¸¸æˆæœåŠ¡å™¨çš„C#å®ç°ã€‚</p>
            
            <p class="paragraph"><strong class="text-strong">åŠŸèƒ½ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item">å®æ—¶å¤šäººå¦å…‹æ¸¸æˆæœåŠ¡å™¨</li>
                <li class="list-item">å¦å…‹ç§»åŠ¨ã€å°„å‡»å’Œç”Ÿå‘½å€¼ç®¡ç†</li>
                <li class="list-item">ç©å®¶è¿æ¥/æ–­å¼€è¿æ¥å¤„ç†</li>
                <li class="list-item">é«˜æ•ˆç½‘ç»œçš„P2Pç»„ç®¡ç†</li>
                <li class="list-item">æœåŠ¡å™¨æ§åˆ¶å°å‘½ä»¤ï¼ˆä¼¤å®³ã€æ²»ç–—ã€é‡ç”Ÿã€çŠ¶æ€ï¼‰</li>
                <li class="list-item">Windows/.NETå…¼å®¹</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">å…³é”®æ–‡ä»¶ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">TankServer.cs</code> - ä¸»æœåŠ¡å™¨å®ç°</li>
                <li class="list-item"><code class="inline-code">TankServer.csproj</code> - .NETé¡¹ç›®æ–‡ä»¶</li>
                <li class="list-item"><code class="inline-code">build.bat</code> - å¸¦DLLå¤åˆ¶çš„æ„å»ºè„šæœ¬</li>
            </ul>

            <h3 class="heading-3">ğŸ® Client</h3>
            <p class="paragraph">å¦å…‹æ¸¸æˆçš„C#æ§åˆ¶å°å®¢æˆ·ç«¯ã€‚</p>
            
            <p class="paragraph"><strong class="text-strong">åŠŸèƒ½ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item">å¦å…‹æ¸¸æˆå®¢æˆ·ç«¯çš„æ§åˆ¶å°ç•Œé¢</li>
                <li class="list-item">å¦å…‹ç§»åŠ¨å’Œå°„å‡»æ§åˆ¶</li>
                <li class="list-item">ä¸æœåŠ¡å™¨çš„å®æ—¶é€šä¿¡</li>
                <li class="list-item">P2Pæ¶ˆæ¯æ”¯æŒ</li>
                <li class="list-item">Windows/.NETå…¼å®¹</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">å…³é”®æ–‡ä»¶ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">TankClient.cs</code> - ä¸»å®¢æˆ·ç«¯å®ç°</li>
                <li class="list-item"><code class="inline-code">TankClient.csproj</code> - .NETé¡¹ç›®æ–‡ä»¶</li>
                <li class="list-item"><code class="inline-code">build.bat</code> - å¸¦DLLå¤åˆ¶çš„æ„å»ºè„šæœ¬</li>
            </ul>

            <h3 class="heading-3">ğŸ§ Server_CPP</h3>
            <p class="paragraph">æ”¯æŒLinuxçš„å¦å…‹æ¸¸æˆæœåŠ¡å™¨C++å®ç°ã€‚</p>
            
            <p class="paragraph"><strong class="text-strong">åŠŸèƒ½ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item">è·¨å¹³å°å¦å…‹æ¸¸æˆæœåŠ¡å™¨ï¼ˆWindows/Linuxï¼‰</li>
                <li class="list-item">Dockerå®¹å™¨åŒ–æ”¯æŒ</li>
                <li class="list-item">CMakeæ„å»ºç³»ç»Ÿ</li>
                <li class="list-item">ä¸C#ç‰ˆæœ¬ç›¸åŒçš„æ¸¸æˆé€»è¾‘</li>
                <li class="list-item">Linuxç”Ÿäº§éƒ¨ç½²å°±ç»ª</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">å…³é”®æ–‡ä»¶ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">src/TankServer.cpp</code> - ä¸»C++æœåŠ¡å™¨å®ç°</li>
                <li class="list-item"><code class="inline-code">CMakeLists.txt</code> - CMakeé…ç½®</li>
                <li class="list-item"><code class="inline-code">Dockerfile</code> - Dockerå®¹å™¨é…ç½®</li>
                <li class="list-item"><code class="inline-code">docker-compose.yml</code> - Docker Composeè®¾ç½®</li>
                <li class="list-item"><code class="inline-code">run.bat</code> - Windowsæ‰§è¡Œè„šæœ¬</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">æ„å»ºé€‰é¡¹ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Windows</strong>ï¼šä½¿ç”¨CMakeçš„Visual Studio</li>
                <li class="list-item"><strong class="text-strong">Linux</strong>ï¼šä½¿ç”¨CMakeçš„GCC</li>
                <li class="list-item"><strong class="text-strong">Docker</strong>ï¼šå®¹å™¨åŒ–éƒ¨ç½²</li>
            </ul>
        </section>

        <section id="development-notes" class="md-section">
            <h2 class="heading-2">å¼€å‘è¯´æ˜</h2>
            <ul class="unordered-list">
                <li class="list-item">C#ç‰ˆæœ¬éœ€è¦.NET 9.0</li>
                <li class="list-item">C++ç‰ˆæœ¬éœ€è¦C++17æ ‡å‡†</li>
                <li class="list-item">ä¸¤ä¸ªç‰ˆæœ¬é€šè¿‡PIDLæ–‡ä»¶å…±äº«ç›¸åŒçš„åè®®å®šä¹‰</li>
                <li class="list-item">Dockeréƒ¨ç½²æ”¯æŒè‡ªåŠ¨ProudNetåº“æ£€æµ‹å’Œå¤åˆ¶</li>
            </ul>
        </section>

        <section id="getting-started" class="md-section">
            <h2 class="heading-2">å¼€å§‹ä½¿ç”¨</h2>
            
            <h3 class="heading-3">å‰ç½®æ¡ä»¶</h3>
            <ol class="ordered-list">
                <li class="list-item">ä»æ‚¨çš„ProudNetå®‰è£…ä½ç½®å¤åˆ¶ProudNetæ–‡ä»¶ï¼Œåœ¨ä¸<code class="inline-code">tank_server/</code>ç›¸åŒçº§åˆ«åˆ›å»º<code class="inline-code">ProudNet/</code>ç›®å½•</li>
                <li class="list-item">éªŒè¯<code class="inline-code">ProudNet/util/PIDL.exe</code>å­˜åœ¨ä»¥è¿›è¡Œåè®®ç¼–è¯‘</li>
            </ol>
        </section>

        <section id="cs-server-implementation" class="md-section">
            <h2 class="heading-2">1. C#æœåŠ¡å™¨å®ç°</h2>

            <h3 class="heading-3">æ­¥éª¤1ï¼šç†è§£åè®®å®šä¹‰ï¼ˆTank.PIDLï¼‰</h3>
            <p class="paragraph"><code class="inline-code">Tank.PIDL</code>æ–‡ä»¶å®šä¹‰äº†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡åè®®ï¼š</p>

            <div class="code-block">
                <pre>// Tank.PIDL - Protocol Interface Definition Language
global Tank 2000 // Client-Server and Server-Client RMI, first message ID = 2000
{
    // Client to Server functions
    SendMove([in] float posX, [in] float posY, [in] float direction);
    SendFire([in] int shooterId, [in] float direction, [in] float launchForce, ...);
    SendTankType([in] int tankType);
    
    // Server to Client functions  
    OnPlayerJoined([in] int clientId, [in] float posX, [in] float posY, [in] int tankType);
    OnTankPositionUpdated([in] int clientId, [in] float posX, [in] float posY, [in] float direction);
    OnSpawnBullet([in] int clientId, [in] int shooterId, ...);
    // ... more RMI functions
}</pre>
            </div>

            <p class="paragraph">æ­¤PIDLæ–‡ä»¶å®šä¹‰äº†ï¼š</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">RMIå‡½æ•°</strong> ä»å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡å™¨ï¼ˆSendMoveã€SendFireç­‰ï¼‰</li>
                <li class="list-item"><strong class="text-strong">RMIå‡½æ•°</strong> ä»æœåŠ¡å™¨å‘é€åˆ°å®¢æˆ·ç«¯ï¼ˆOnPlayerJoinedã€OnTankPositionUpdatedç­‰ï¼‰</li>
                <li class="list-item"><strong class="text-strong">P2Pæ¶ˆæ¯</strong> ç”¨äºç›´æ¥å®¢æˆ·ç«¯é€šä¿¡</li>
            </ul>

            <h3 class="heading-3">æ­¥éª¤2ï¼šç”ŸæˆC#å­˜æ ¹å’Œä»£ç†ç±»</h3>
            <p class="paragraph">è¿è¡ŒPIDLç¼–è¯‘å™¨ç”ŸæˆC#ç½‘ç»œä»£ç ï¼š</p>

            <div class="code-block">
                <pre>cd tank_server/Common
CompilePIDL_cs.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">é¢„æœŸè¾“å‡ºï¼š</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Common [master +5 ~14 -15 !]> .\CompilePIDL_cs.bat 
PIDL compile complete!
Press any key to continue . . .</pre>
            </div>

            <p class="paragraph">æ­¤è„šæœ¬å°†ï¼š</p>
            <ul class="unordered-list">
                <li class="list-item">æ‰§è¡Œ<code class="inline-code">ProudNet/util/PIDL.exe -cs Tank.PIDL -outdir ../Server</code></li>
                <li class="list-item">æ‰§è¡Œ<code class="inline-code">ProudNet/util/PIDL.exe -cs Tank.PIDL -outdir ../Client</code></li>
                <li class="list-item">åœ¨Serverå’ŒClientç›®å½•ä¸­ç”Ÿæˆæ–‡ä»¶ï¼š
                    <ul class="unordered-list">
                        <li class="list-item"><code class="inline-code">Tank_stub.cs</code> - å¤„ç†ä¼ å…¥çš„RMIè°ƒç”¨</li>
                        <li class="list-item"><code class="inline-code">Tank_proxy.cs</code> - å‘é€ä¼ å‡ºçš„RMIè°ƒç”¨</li>
                        <li class="list-item"><code class="inline-code">Tank_common.cs</code> - é€šç”¨å®šä¹‰å’Œå¸¸é‡</li>
                    </ul>
                </li>
            </ul>

            <h3 class="heading-3">æ­¥éª¤3ï¼šæ„å»ºæœåŠ¡å™¨</h3>
            <p class="paragraph">å¯¼èˆªåˆ°Serverç›®å½•å¹¶æ„å»ºï¼š</p>

            <div class="code-block">
                <pre>cd tank_server/Server
build.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Output:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server [master +15 ~13 -15 !]> ./build.bat
========================================
Tank Server Build Script
========================================
Build configuration: Debug
Building Tank Server...
Restore complete (0.2s)
  TankServer succeeded (1.8s) â†’ bin\Debug\net9.0\TankServer.dll

Build succeeded in 2.3s
Build completed successfully!
Using build output path: bin\Debug\net9.0
Build output directory exists: bin\Debug\net9.0
ProudNet DotNet directory exists: ..\..\ProudNet\lib\DotNet
ProudNet x64 directory exists: ..\..\ProudNet\lib\DotNet\x64
========================================
Copying ProudNet DLLs...
========================================
Copying libcrypto-3-x64.dll...
        1 file(s) copied.
Copying libssl-3-x64.dll...
        1 file(s) copied.
Copying ProudDotNetClient.dll...
        1 file(s) copied.
Copying ProudDotNetClient.pdb...
        1 file(s) copied.
Copying ProudDotNetServer.dll...
        1 file(s) copied.
Copying ProudDotNetServer.pdb...
        1 file(s) copied.
Copying ProudNetClient.dll...
        1 file(s) copied.
Copying ProudNetClientPlugin.dll...
        1 file(s) copied.
Copying ProudNetServer.dll...
        1 file(s) copied.
Copying ProudNetServerPlugin.dll...
        1 file(s) copied.
Copying ProudNetServerPlugin.pdb...
        1 file(s) copied.
========================================
Build and DLL copy completed!
========================================

Output directory: bin\Debug\net9.0
You can now run the Tank Server executable.

Press any key to continue . . .</pre>
            </div>

            <p class="paragraph">æ„å»ºè„šæœ¬å°†ï¼š</p>
            <ul class="unordered-list">
                <li class="list-item">ä½¿ç”¨<code class="inline-code">dotnet build --configuration Debug</code>ç¼–è¯‘C#é¡¹ç›®</li>
                <li class="list-item">å°†æ‰€éœ€çš„ProudNet DLLå¤åˆ¶åˆ°è¾“å‡ºç›®å½•ï¼š
                    <ul class="unordered-list">
                        <li class="list-item"><code class="inline-code">ProudDotNetServer.dll</code>ã€<code class="inline-code">ProudDotNetClient.dll</code></li>
                        <li class="list-item"><code class="inline-code">ProudNetServer.dll</code>ã€<code class="inline-code">ProudNetServerPlugin.dll</code></li>
                        <li class="list-item"><code class="inline-code">libcrypto-3-x64.dll</code>ã€<code class="inline-code">libssl-3-x64.dll</code></li>
                    </ul>
                </li>
            </ul>

            <h3 class="heading-3">æ­¥éª¤4ï¼šè¿è¡ŒæœåŠ¡å™¨</h3>
            <div class="code-block">
                <pre>cd tank_server/Server/bin/Debug/net9.0
TankServer.exe</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Output:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server [master +5 ~14 -15 !]> .\bin\Debug\net9.0\TankServer.exe      
Tank Server started on port 33334
Server is running. Commands:
status: Show connected clients
health [id]: Show tank health (all or specific ID)
damage id amount: Apply damage to a tank
heal id amount: Heal a tank
respawn id x y: Respawn a tank at position (x,y)
q: Quit server
Client 3 connected
New tank created for client 3 with tank type -1 and health 100/100
Not enough clients to create P2P group (need at least 2)</pre>
            </div>

            <p class="paragraph">æœåŠ¡å™¨å°†ï¼š</p>
            <ul class="unordered-list">
                <li class="list-item">å¼€å§‹åœ¨ç«¯å£33334ä¸Šç›‘å¬</li>
                <li class="list-item">æ˜¾ç¤ºè¿æ¥çŠ¶æ€å’Œæ¸¸æˆäº‹ä»¶</li>
                <li class="list-item">æ¥å—å‘½ä»¤ï¼š<code class="inline-code">status</code>ã€<code class="inline-code">health</code>ã€<code class="inline-code">damage</code>ã€<code class="inline-code">heal</code>ã€<code class="inline-code">respawn</code>ã€<code class="inline-code">q</code>ï¼ˆé€€å‡ºï¼‰</li>
            </ul>
        </section>

        <section id="cs-client-implementation" class="md-section">
            <h2 class="heading-2">2. C#å®¢æˆ·ç«¯å®ç°</h2>

            <h3 class="heading-3">æ­¥éª¤1ï¼šå…±äº«åè®®ç†è§£</h3>
            <p class="paragraph">å®¢æˆ·ç«¯ä½¿ç”¨ä¸æœåŠ¡å™¨<strong class="text-strong">ç›¸åŒçš„Tank.PIDLæ–‡ä»¶</strong>ï¼Œç¡®ä¿å®Œç¾çš„åè®®å…¼å®¹æ€§ï¼š</p>

            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">ç›¸åŒçš„RMIå®šä¹‰</strong>ï¼šæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½ç†è§£ç›¸åŒçš„å‡½æ•°ç­¾å</li>
                <li class="list-item"><strong class="text-strong">å…±äº«å­˜æ ¹/ä»£ç†ç±»</strong>ï¼š<code class="inline-code">CompilePIDL_cs.bat</code>è„šæœ¬ä¸ºä¸¤ä¸ªé¡¹ç›®ç”Ÿæˆç›¸åŒçš„ç½‘ç»œä»£ç </li>
                <li class="list-item"><strong class="text-strong">åè®®åŒæ­¥</strong>ï¼šå¯¹Tank.PIDLçš„ä»»ä½•æ›´æ”¹åœ¨é‡æ–°ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨æ›´æ–°æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯</li>
            </ul>

            <p class="paragraph">è¿™ç§æ–¹æ³•ä¿è¯ï¼š</p>
            <ul class="unordered-list">
                <li class="list-item">æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å§‹ç»ˆä½¿ç”¨å…¼å®¹çš„ç½‘ç»œåè®®</li>
                <li class="list-item">RMIå‡½æ•°è°ƒç”¨æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå¹¶åœ¨ç¼–è¯‘æ—¶éªŒè¯</li>
                <li class="list-item">ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´çš„ç½‘ç»œæ¶ˆæ¯æ ¼å¼æ˜¯ä¸€è‡´çš„</li>
            </ul>

            <h3 class="heading-3">æ­¥éª¤2ï¼šæ„å»ºå®¢æˆ·ç«¯</h3>
            <p class="paragraph">å¯¼èˆªåˆ°Clientç›®å½•å¹¶æ„å»ºï¼š</p>

            <div class="code-block">
                <pre>cd tank_server/Client  
build.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Output:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Client [master +5 ~14 -15 !]> .\build.bat
========================================
Tank Client Build Script
========================================
Build configuration: Debug
Building Tank Client...
Restore complete (0.3s)
  TankClient succeeded (0.2s) â†’ bin\Debug\net9.0\TankClient.dll

Build succeeded in 0.8s
Build completed successfully!
Using build output path: bin\Debug\net9.0
Build output directory exists: bin\Debug\net9.0
ProudNet DotNet directory exists: ..\..\ProudNet\lib\DotNet
ProudNet x64 directory exists: ..\..\ProudNet\lib\DotNet\x64
========================================
Copying ProudNet DLLs...
========================================
Copying libcrypto-3-x64.dll...
        1 file(s) copied.
Copying libssl-3-x64.dll...
        1 file(s) copied.
Copying ProudDotNetClient.dll...
        1 file(s) copied.
Copying ProudDotNetClient.pdb...
        1 file(s) copied.
Copying ProudDotNetServer.dll...
        1 file(s) copied.
Copying ProudNetClient.dll...
        1 file(s) copied.
Copying ProudNetClientPlugin.dll...
        1 file(s) copied.
Copying ProudNetServer.dll...
        1 file(s) copied.
========================================
Build and DLL copy completed!
========================================

Output directory: bin\Debug\net9.0
You can now run the Tank Client executable.

Press any key to continue . . .</pre>
            </div>

            <p class="paragraph">å®¢æˆ·ç«¯æ„å»ºè„šæœ¬æ‰§è¡Œä¸æœåŠ¡å™¨ç›¸åŒçš„æ“ä½œï¼š</p>
            <ul class="unordered-list">
                <li class="list-item">ä½¿ç”¨<code class="inline-code">dotnet build --configuration Debug</code>ç¼–è¯‘C#é¡¹ç›®</li>
                <li class="list-item">å¤åˆ¶ç›¸åŒçš„ProudNet DLLä»¥ç¡®ä¿è¿è¡Œæ—¶å…¼å®¹æ€§</li>
                <li class="list-item">ä½¿ç”¨ä»PIDLç¼–è¯‘ç”Ÿæˆçš„å­˜æ ¹/ä»£ç†ç±»</li>
            </ul>

            <h3 class="heading-3">æ­¥éª¤3ï¼šè¿è¡Œå®¢æˆ·ç«¯</h3>
            <div class="code-block">
                <pre>cd tank_server/Client/bin/Debug/net9.0
TankClient.exe</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Output:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Client [master +6 ~14 -15 !]> .\bin\Debug\net9.0\TankClient.exe
Connecting to server...
Commands:
move x y dir : Move tank to position (x,y) with direction dir
fire dir [force] : Fire in direction dir with optional force (default 25.0)
tank n       : Select tank type (0-3)
health h [max]: Update tank health to h with optional max health
destroy [id] : Send tank destroyed event (id of destroyer, default 0 = environment)
spawn x y dir type health: Spawn/respawn tank
msg text     : Send P2P message to other clients
history      : Show message history
status       : Show P2P connection status
auto         : Toggle auto movement
q            : Quit
Connected to server. My ID: 3</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">ğŸ” æ£€æŸ¥æœåŠ¡å™¨è¿æ¥ï¼š</strong></p>
            <p class="paragraph">å½“å®¢æˆ·ç«¯æˆåŠŸè¿æ¥æ—¶ï¼Œæ‚¨è¿˜åº”è¯¥åœ¨<strong class="text-strong">æœåŠ¡å™¨æ§åˆ¶å°</strong>ä¸Šçœ‹åˆ°è¿æ¥æ¶ˆæ¯ï¼š</p>

            <p class="paragraph"><strong class="text-strong">æœåŠ¡å™¨æ§åˆ¶å°è¾“å‡ºï¼š</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server [master +5 ~14 -15 !]> .\bin\Debug\net9.0\TankServer.exe
Tank Server started on port 33334
Server is running. Commands:
status: Show connected clients
health [id]: Show tank health (all or specific ID)
damage id amount: Apply damage to a tank
heal id amount: Heal a tank
respawn id x y: Respawn a tank at position (x,y)
q: Quit server
Client 3 connected
New tank created for client 3 with tank type -1 and health 100/100
Not enough clients to create P2P group (need at least 2)</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">ğŸ“ æœåŠ¡å™¨æ—¥å¿—è¯´æ˜ï¼š</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">Client 3 connected</code> - æ–°å®¢æˆ·ç«¯å·²æˆåŠŸè¿æ¥å¹¶è¢«åˆ†é…ID 3</li>
                <li class="list-item"><code class="inline-code">New tank created for client 3 with tank type -1 and health 100/100</code> - æœåŠ¡å™¨ä¸ºæ–°å®¢æˆ·ç«¯åˆ›å»ºå¦å…‹å¯¹è±¡ï¼š
                    <ul class="unordered-list">
                        <li class="list-item">å¦å…‹ç±»å‹<code class="inline-code">-1</code>è¡¨ç¤ºå°šæœªé€‰æ‹©å¦å…‹ç±»å‹</li>
                        <li class="list-item">åˆå§‹ç”Ÿå‘½å€¼è®¾ç½®ä¸º100/100ï¼ˆå½“å‰/æœ€å¤§ï¼‰</li>
                    </ul>
                </li>
                <li class="list-item"><code class="inline-code">Not enough clients to create P2P group (need at least 2)</code> - P2Pç»„åˆ›å»ºéœ€è¦è‡³å°‘2ä¸ªå®¢æˆ·ç«¯è¿›è¡Œç‚¹å¯¹ç‚¹é€šä¿¡</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ’¡ æµ‹è¯•P2PåŠŸèƒ½ï¼š</strong></p>
            <p class="paragraph">åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­è¿è¡Œ<strong class="text-strong">ç¬¬äºŒä¸ªå®¢æˆ·ç«¯</strong>æ¥æŸ¥çœ‹ï¼š</p>

            <p class="paragraph"><strong class="text-strong">ç¬¬äºŒä¸ªå®¢æˆ·ç«¯è¾“å‡ºï¼š</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Client [master +5 ~14 -15 !]> .\bin\Debug\net9.0\TankClient.exe          
Connecting to server...                                                                                                                                                                                                                             
Commands:                                                                                                                                                                                                                                           
move x y dir : Move tank to position (x,y) with direction dir                                                                                                                                                                                       
fire dir [force] : Fire in direction dir with optional force (default 25.0)
tank n       : Select tank type (0-3)
health h [max]: Update tank health to h with optional max health
destroy [id] : Send tank destroyed event (id of destroyer, default 0 = environment)
spawn x y dir type health: Spawn/respawn tank
msg text     : Send P2P message to other clients
history      : Show message history
status       : Show P2P connection status
auto         : Toggle auto movement
q            : Quit
Connected to server. My ID: 4
P2P: Member 4 joined group 5
P2P: Member 3 joined group 5
P2P: Added member 3 to group member list
OnPlayerJoined: Tank 3 joined at (12.939716,28.795837) with tank type -1
OnTankHealthUpdated: Tank 3 health: 100/100
P2P: Received group info, Group ID: 5</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">æ›´æ–°çš„æœåŠ¡å™¨æ§åˆ¶å°è¾“å‡ºï¼š</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server [master +5 ~14 -15 !]> .\bin\Debug\net9.0\TankServer.exe
Tank Server started on port 33334
Server is running. Commands:
status: Show connected clients
health [id]: Show tank health (all or specific ID)
damage id amount: Apply damage to a tank
heal id amount: Heal a tank
respawn id x y: Respawn a tank at position (x,y)
q: Quit server
Client 3 connected
New tank created for client 3 with tank type -1 and health 100/100
Not enough clients to create P2P group (need at least 2)
Client 4 connected
New tank created for client 4 with tank type -1 and health 100/100
Sending existing player info to new client: ID=3, Type=-1, Health=100/100
Notifying existing client 3 about new player: ID=4, Type=-1, Health=100/100
P2P group created with 2 members, Group ID: 5
Sent P2P group info to client 3: P2P_GROUP_INFO:5
Sent P2P group info to client 4: P2P_GROUP_INFO:5</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">ğŸ“ å¤šå®¢æˆ·ç«¯è¿æ¥åˆ†æï¼š</strong></p>

            <p class="paragraph"><strong class="text-strong">å½“ç¬¬äºŒä¸ªå®¢æˆ·ç«¯è¿æ¥æ—¶ï¼š</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">å®¢æˆ·ç«¯4è¿æ¥</strong> - æœåŠ¡å™¨åˆ†é…æ–°IDå¹¶åˆ›å»ºå¦å…‹å¯¹è±¡</li>
                <li class="list-item"><strong class="text-strong">ç©å®¶åŒæ­¥</strong> - æœåŠ¡å™¨äº¤æ¢ç©å®¶ä¿¡æ¯ï¼š
                    <ul class="unordered-list">
                        <li class="list-item">å‘æ–°å®¢æˆ·ç«¯ï¼ˆå®¢æˆ·ç«¯4ï¼‰å‘é€ç°æœ‰ç©å®¶ä¿¡æ¯ï¼ˆå®¢æˆ·ç«¯3ï¼‰</li>
                        <li class="list-item">é€šçŸ¥ç°æœ‰å®¢æˆ·ç«¯ï¼ˆå®¢æˆ·ç«¯3ï¼‰å…³äºæ–°ç©å®¶ï¼ˆå®¢æˆ·ç«¯4ï¼‰</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">P2Pç»„åˆ›å»º</strong> - ç°åœ¨æœ‰2+ä¸ªå®¢æˆ·ç«¯ï¼š
                    <ul class="unordered-list">
                        <li class="list-item">æœåŠ¡å™¨åˆ›å»ºIDä¸º5çš„P2Pç»„</li>
                        <li class="list-item">ä¸¤ä¸ªå®¢æˆ·ç«¯éƒ½æ¥æ”¶P2Pç»„ä¿¡æ¯</li>
                        <li class="list-item">å®¢æˆ·ç«¯ç°åœ¨å¯ä»¥é€šè¿‡P2Pæ¶ˆæ¯ç›´æ¥é€šä¿¡</li>
                    </ul>
                </li>
            </ol>

            <p class="paragraph"><strong class="text-strong">Client-side P2P events:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">P2P: Member X joined group Y</code> - P2P group membership notifications</li>
                <li class="list-item"><code class="inline-code">OnPlayerJoined: Tank 3 joined at (x,y)</code> - Receives info about existing players</li>
                <li class="list-item"><code class="inline-code">OnTankHealthUpdated: Tank 3 health: 100/100</code> - Receives health status of other tanks</li>
                <li class="list-item"><code class="inline-code">P2P: Received group info, Group ID: 5</code> - Confirms P2P group setup</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ® Now you can test multiplayer features:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Use <code class="inline-code">msg hello</code> in one client to send P2P messages to others</li>
                <li class="list-item">Use <code class="inline-code">move x y dir</code> to see position updates across clients</li>
                <li class="list-item">Use <code class="inline-code">fire dir</code> to test projectile synchronization</li>
            </ul>
        </section>

        <section id="cpp-server-implementation" class="md-section">
            <h2 class="heading-2">3. C++æœåŠ¡å™¨å®ç°ï¼ˆå¯é€‰ï¼‰</h2>

            <p class="paragraph">C++æœåŠ¡å™¨å®ç°æä¾›ä¸C#æœåŠ¡å™¨<strong class="text-strong">å®Œå…¨ç›¸åŒçš„åŠŸèƒ½</strong>ï¼Œæä¾›è·¨å¹³å°æ”¯æŒå’Œå®¹å™¨åŒ–éƒ¨ç½²é€‰é¡¹ã€‚è¿™æ˜¯ä¸€ä¸ªå¯é€‰çš„é«˜çº§å®ç°ï¼Œå±•ç¤ºäº†ProudNetçš„å¤šè¯­è¨€èƒ½åŠ›ã€‚</p>

            <h3 class="heading-3">åè®®å…¼å®¹æ€§</h3>
            <p class="paragraph">ç”±äºC#å’ŒC++æœåŠ¡å™¨éƒ½ä½¿ç”¨<strong class="text-strong">ç›¸åŒçš„Tank.PIDLæ–‡ä»¶</strong>ï¼Œå®ƒä»¬å®Œå…¨å…¼å®¹ï¼š</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Same RMI functions</strong>: Identical network protocol definitions</li>
                <li class="list-item"><strong class="text-strong">Client compatibility</strong>: C# clients can connect to either C# or C++ servers seamlessly</li>
                <li class="list-item"><strong class="text-strong">Feature parity</strong>: Movement, firing, P2P messaging, and all game mechanics work identically</li>
            </ul>

            <h3 class="heading-3">Key Advantages of C++ Implementation</h3>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Cross-platform support</strong>: Runs on Windows, Linux, and containerized environments</li>
                <li class="list-item"><strong class="text-strong">Performance optimization</strong>: Native C++ performance for high-load scenarios</li>
                <li class="list-item"><strong class="text-strong">Production deployment</strong>: Docker containerization for scalable server infrastructure</li>
                <li class="list-item"><strong class="text-strong">Linux compatibility</strong>: Deploy on Ubuntu/Linux servers without .NET dependencies</li>
            </ul>

            <h3 class="heading-3">Step 1: Generate C++ Stub and Proxy Classes</h3>
            <p class="paragraph">First, generate the C++ networking code from the PIDL file:</p>

            <div class="code-block">
                <pre>cd tank_server/Common
CompilePIDL_cpp.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Output:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Common [master +5 ~14 -15 !]> .\CompilePIDL_cpp.bat
[INFO] Generating C++ files from Tank.PIDL...
[INFO] PIDL C++ compilation complete!
[INFO] Generated files in ..\Server_CPP\include directory.
Press any key to continue . . .</pre>
            </div>

            <p class="paragraph">This will generate C++ stub/proxy classes in the <code class="inline-code">Server_CPP/include/</code> directory:</p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">Tank_stub.cpp/.h</code> - Handles incoming RMI calls</li>
                <li class="list-item"><code class="inline-code">Tank_proxy.cpp/.h</code> - Sends outgoing RMI calls</li>
                <li class="list-item"><code class="inline-code">Tank_common.cpp/.h</code> - Common definitions and constants</li>
            </ul>

            <h3 class="heading-3">Step 2: Build the C++ Server (Windows)</h3>

            <h4 class="heading-4">Prerequisites for Windows Build</h4>
            <p class="paragraph">Before building the C++ server, ensure you have the following components installed:</p>

            <p class="paragraph"><strong class="text-strong">Required Software:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Visual Studio 2022</strong> (Community/Professional/Enterprise)
                    <ul class="unordered-list">
                        <li class="list-item">Also supports VS 2019, 2017, 2015</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">CMake 3.10 or higher</strong></li>
                <li class="list-item"><strong class="text-strong">Windows SDK 10.0</strong> (latest version recommended)</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">Required Visual Studio Components:</strong></p>
            <p class="paragraph">When installing Visual Studio, make sure to include these workloads and components:</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Desktop development with C++</strong> workload</li>
                <li class="list-item"><strong class="text-strong">MSVC v143 - VS 2022 C++ x64/x86 build tools</strong> (latest)</li>
                <li class="list-item"><strong class="text-strong">Windows 11 SDK</strong> (or Windows 10 SDK)</li>
                <li class="list-item"><strong class="text-strong">ATL for v143 build tools (x86 & x64)</strong> - <em class="text-emphasis">Required for ProudNet linking</em></li>
                <li class="list-item"><strong class="text-strong">CMake tools for C++</strong></li>
                <li class="list-item"><strong class="text-strong">Git for Windows</strong> (optional, for version control)</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">Important Note about ATL:</strong></p>
            <p class="paragraph">The Active Template Library (ATL) is essential for ProudNet linking on Windows. In CMakeLists.txt, you can see it's explicitly linked:</p>
            <div class="code-block">
                <pre>target_link_libraries(TankGameServer
    # ... other libraries ...
    atls       # ATL library addition
)</pre>
            </div>

            <h4 class="heading-4">Build Process</h4>
            <p class="paragraph">Navigate to the Server_CPP directory and build using the provided script:</p>

            <div class="code-block">
                <pre>cd tank_server/Server_CPP
build.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Build Output:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP [master +5 ~14 -15 !]> .\build.bat
[INFO] =========================================
[INFO] Starting TankGameServer C++ Build...
[INFO] =========================================
[INFO] Detecting Visual Studio installation...
[INFO] Visual Studio 2022 Community found
[INFO] Setting up VS2022 environment...
**********************************************************************
** Visual Studio 2022 Developer Command Prompt v17.14.0
** Copyright (c) 2022 Microsoft Corporation
**********************************************************************
[vcvarsall.bat] Environment initialized for: 'x64'
[INFO] Using Visual Studio 2022 with generator: NMake Makefiles
[INFO] ProudNet Path: C:\Users\wayne\Documents\proud_tank\ProudNet
[INFO] Build Type: Release
[INFO] Using: Visual Studio 2022 with NMake Makefiles
[INFO] Checking and generating PIDL files...
[INFO] Compiling PIDL files...
[INFO] Generating C++ files from Tank.PIDL...
[INFO] PIDL C++ compilation complete
[INFO] Generated files in ..\Server_CPP\include directory.
Press any key to continue . . .
[INFO] Creating build directory...
[INFO] Removing existing build directory...
[INFO] Configuring CMake...
[INFO] Using NMake Makefiles generator
-- The C compiler identification is MSVC 19.44.35207.1
-- The CXX compiler identification is MSVC 19.44.35207.1
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.44.35207/bin/Hostx64/x64/cl.exe - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.44.35207/bin/Hostx64/x64/cl.exe - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Building on Windows - Using OpenSSL and CURL from ProudNet
-- System check: Windows
-- Current working directory: C:/Users/wayne/Documents/proud_tank/tank_server/Server_CPP
-- Build type: Release
-- ProudNet Path: C:\Users\wayne\Documents\proud_tank\ProudNet
-- Operating System: Windows
-- Using Visual Studio version from command line: 2022
-- Found Visual Studio installation: C:/Program Files/Microsoft Visual Studio/2022/Community
-- Visual Studio Path: C:/Program Files/Microsoft Visual Studio/2022/Community
-- Using Release Library Path: C:\Users\wayne\Documents\proud_tank\ProudNet/lib/x64/v140/Release
-- Configuring done
-- Generating done
-- Build files have been written to: C:/Users/wayne/Documents/proud_tank/tank_server/Server_CPP/build
[INFO] Building project...
[ 33%] Building CXX object CMakeFiles/TankGameServer.dir/src/TankServer.cpp.obj
TankServer.cpp
[ 66%] Building CXX object CMakeFiles/TankGameServer.dir/C_/Users/wayne/Documents/proud_tank/tank_server/Common/Vars.cpp.obj
Vars.cpp
[100%] Linking CXX executable TankServer.exe
[100%] Built target TankGameServer
[INFO] Build successful
[INFO] Executable: C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP\build\Release\TankGameServer.exe
[INFO] Copying required DLL files...
[INFO] =========================================
[INFO] Build completed
[INFO] Executable: C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP\build\TankServer.exe
[INFO] =========================================
Press any key to continue . . .</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Build Process Analysis:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Visual Studio Detection</strong>: Automatically detects VS 2022 Community installation</li>
                <li class="list-item"><strong class="text-strong">Environment Setup</strong>: Initializes VS 2022 Developer Command Prompt with x64 tools</li>
                <li class="list-item"><strong class="text-strong">PIDL Compilation</strong>: Automatically generates C++ stub/proxy classes</li>
                <li class="list-item"><strong class="text-strong">CMake Configuration</strong>: Uses NMake Makefiles generator for MSVC compiler</li>
                <li class="list-item"><strong class="text-strong">Compilation</strong>: Builds <code class="inline-code">TankServer.cpp</code> and <code class="inline-code">Vars.cpp</code> with C++17 standard</li>
                <li class="list-item"><strong class="text-strong">Linking</strong>: Links with ProudNet libraries, Windows system libraries, and ATL</li>
                <li class="list-item"><strong class="text-strong">DLL Copying</strong>: Copies required ProudNet DLLs to executable directory</li>
            </ol>

            <p class="paragraph">The build script will:</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Detect Visual Studio installation</strong> automatically (2015-2022)</li>
                <li class="list-item"><strong class="text-strong">Set up build environment</strong> with vcvarsall.bat</li>
                <li class="list-item"><strong class="text-strong">Generate PIDL files</strong> automatically before CMake configuration</li>
                <li class="list-item"><strong class="text-strong">Create build directory</strong> and configure CMake with NMake Makefiles</li>
                <li class="list-item"><strong class="text-strong">Compile C++ source files</strong> with MSVC compiler</li>
                <li class="list-item"><strong class="text-strong">Link with ProudNet libraries</strong> and Windows system libraries:
                    <ul class="unordered-list">
                        <li class="list-item"><code class="inline-code">ProudNetServer.lib</code>, <code class="inline-code">ProudNetClient.lib</code></li>
                        <li class="list-item"><code class="inline-code">ws2_32</code> (Windows Sockets), <code class="inline-code">winmm</code> (Multimedia), <code class="inline-code">iphlpapi</code> (IP Helper)</li>
                        <li class="list-item"><code class="inline-code">atls</code> (Active Template Library)</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">Copy required ProudNet DLLs</strong> to output directory</li>
            </ul>

            <h3 class="heading-3">Step 3: Run the C++ Server (Windows)</h3>

            <div class="code-block">
                <pre>cd tank_server/Server_CPP
run.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Server Output:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP [master +5 ~14 -15 !]> .\run.bat
[INFO] Starting TankGameServer C++ Server...
[INFO] Found executable at build\TankServer.exe (NMake build
[INFO] Server is starting. Press 'q' to quit.
[INFO] Running: C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP\build\TankServer.exe
========== Tank Server Started ==========
TCP Server listening on 0.0.0.0:33334
WebSocket Server listening on 0.0.0.0:33335/ws
Ready to accept connections from all network interfaces
==========================================
Server is running. Commands:
status: Show connected clients
health [id]: Show tank health (all or specific ID)
damage id amount: Apply damage to a tank
heal id amount: Heal a tank
respawn id x y: Respawn a tank at position (x,y)
q: Quit server</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Server Startup Analysis:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Executable Detection</strong>: <code class="inline-code">run.bat</code> automatically locates the built executable</li>
                <li class="list-item"><strong class="text-strong">Network Binding</strong>: Server binds to all network interfaces (0.0.0.0)
                    <ul class="unordered-list">
                        <li class="list-item"><strong class="text-strong">TCP Server</strong>: Port 33334 for game connections</li>
                        <li class="list-item"><strong class="text-strong">WebSocket Server</strong>: Port 33335/ws for web client support</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">Command Interface</strong>: Same server commands as C# version</li>
                <li class="list-item"><strong class="text-strong">Ready State</strong>: Server is ready to accept client connections</li>
            </ol>

            <h3 class="heading-3">Step 4: C# Client Compatibility Test</h3>

            <p class="paragraph"><strong class="text-strong">ğŸ”„ Protocol Compatibility Verification:</strong></p>
            <p class="paragraph">The C++ server is fully compatible with the existing C# clients. You can connect the <strong class="text-strong">same C# clients</strong> from Step 2 to this C++ server without any modifications.</p>

            <p class="paragraph"><strong class="text-strong">Connect C# Client to C++ Server:</strong></p>
            <div class="code-block">
                <pre># In another terminal, run the C# client
cd tank_server/Client/bin/Debug/net9.0
TankClient.exe</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">C++ Server Console Log (Client Connection):</strong></p>
            <div class="code-block">
                <pre>Client 3 connected from 127.0.0.1:52341
New tank created for client 3 with tank type -1 and health 100/100
Not enough clients to create P2P group (need at least 2)</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Server Log Analysis:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Identical Client Processing</strong>: C++ server handles client connections exactly like C# server</li>
                <li class="list-item"><strong class="text-strong">Same Tank Creation</strong>: Creates tank objects with identical initial state (health 100/100, type -1)</li>
                <li class="list-item"><strong class="text-strong">Player Synchronization</strong>: Exchanges player information between clients identically</li>
                <li class="list-item"><strong class="text-strong">P2P Group Management</strong>: Creates P2P groups with same logic and group ID assignment</li>
                <li class="list-item"><strong class="text-strong">Protocol Compatibility</strong>: All RMI functions and message formats work seamlessly</li>
            </ol>

            <p class="paragraph"><strong class="text-strong">âœ… Complete Functional Parity:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">All movement, firing, and messaging commands work identically</li>
                <li class="list-item">P2P group creation and management function the same</li>
                <li class="list-item">Server commands (<code class="inline-code">status</code>, <code class="inline-code">health</code>, <code class="inline-code">damage</code>, <code class="inline-code">heal</code>, <code class="inline-code">respawn</code>) work identically</li>
                <li class="list-item">Client connection handling and state management are identical</li>
                <li class="list-item">Tank creation, health tracking, and game logic are exactly the same</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ¯ This demonstrates that the C++ server is a complete drop-in replacement for the C# server with 100% protocol compatibility.</strong></p>

            <h3 class="heading-3">Step 5: Docker Deployment (Linux/Ubuntu)</h3>

            <p class="paragraph">The C++ server can be deployed as a Docker container on Ubuntu 24.04 for production environments.</p>

            <h4 class="heading-4">Prerequisites for Docker Deployment</h4>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Docker Desktop</strong> (Windows) or <strong class="text-strong">Docker Engine</strong> (Linux)</li>
                <li class="list-item"><strong class="text-strong">Docker Compose</strong> for orchestration</li>
            </ul>

            <h4 class="heading-4">Windows Docker Setup</h4>
            <p class="paragraph">If running on Windows, ensure Docker is configured for Linux containers:</p>

            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Install Docker Desktop</strong> from the official website</li>
                <li class="list-item"><strong class="text-strong">Switch to Linux containers</strong>:
                    <ul class="unordered-list">
                        <li class="list-item">Right-click Docker Desktop system tray icon</li>
                        <li class="list-item">Select "Switch to Linux containers..."</li>
                        <li class="list-item">Wait for Docker to restart in Linux container mode</li>
                    </ul>
                </li>
            </ol>

            <h4 class="heading-4">ProudNet License Configuration (Optional)</h4>

            <p class="paragraph">By default, the server runs in <strong class="text-strong">50 CCU limitation mode</strong> without a license key. For production deployment with unlimited concurrent users, you can configure a ProudNet license:</p>

            <p class="paragraph"><strong class="text-strong">Step 1: License Key Setup</strong></p>
            <p class="paragraph">Edit the <code class="inline-code">tank_server/licensekey.txt</code> file:</p>

            <div class="code-block">
                <pre># Default content (50 CCU limitation): Replace with your actual ProudNet license key:
PUT_YOUR_PROUDNET_LICENSE_KEY_HERE</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Step 2: License Verification</strong></p>
            <p class="paragraph">The Docker build process automatically detects and applies the license:</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">With License</strong>: Unlimited CCU, full ProudNet features</li>
                <li class="list-item"><strong class="text-strong">Without License</strong>: 50 CCU limitation, development mode</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">Expected Docker Output with License:</strong></p>
            <div class="code-block">
                <pre>tank-server-1  | License key found: /app/licensekey.txt
tank-server-1  | ProudNet license validation successful
tank-server-1  | Starting server with full license (unlimited CCU)</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Docker Output without License (Default):</strong></p>
            <div class="code-block">
                <pre>tank-server-1  | License key file not found: /app/licensekey.txt
tank-server-1  | Building without ProudNet license.
tank-server-1  | Starting server without license (50 CCU limitation mode).</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">ğŸ”‘ License Benefits:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Increased CCU</strong>: Higher concurrent connection limits based on license type</li>
                <li class="list-item"><strong class="text-strong">Production Features</strong>: Full ProudNet server capabilities</li>
                <li class="list-item"><strong class="text-strong">Technical Support</strong>: Access to ProudNet technical support</li>
                <li class="list-item"><strong class="text-strong">Performance Optimization</strong>: Enhanced server performance features</li>
            </ul>

            <h4 class="heading-4">Docker Deployment Commands</h4>

            <div class="code-block">
                <pre>cd tank_server/Server_CPP
docker-compose up</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Docker Output:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP [master +5 ~14 -15 !]> docker-compose up
Compose can now delegate builds to bake for better performance.
 To do so, set COMPOSE_BAKE=true.
[+] Building 2.3s (22/22)                                                                                                                                 docker:desktop-linux 
[+] Building 2.3s (22/23)                                                                                                                                 docker:desktop-linux 
[+] Building 2.3s (23/23) FINISHED                                                                                                                        docker:desktop-linux 
 => [tank-server internal] load build definition from Dockerfile                                                                                                          0.0s 
 => => transferring dockerfile: 6.39kB                                                                                                                                    0.0s 
 => [tank-server internal] load metadata for docker.io/library/ubuntu:24.04                                                                                               1.9s 
 => [tank-server auth] library/ubuntu:pull token for registry-1.docker.io                                                                                                 0.0s 
 => [tank-server internal] load .dockerignore                                                                                                                             0.0s 
 => => transferring context: 2B                                                                                                                                           0.0s 
 => [tank-server  1/16] FROM docker.io/library/ubuntu:24.04@sha256:6015f66923d7afbc53558d7ccffd325d43b4e249f41a6e93eef074c9505d2233                                       0.0s 
 => [tank-server internal] load build context                                                                                                                             0.1s
 => => transferring context: 106.41kB                                                                                                                                     0.0s
 => CACHED [tank-server  2/16] RUN apt-get update && apt-get install -y     build-essential     cmake     git     libssl-dev     libssl3     libcurl4-openssl-dev     tz  0.0s
 => CACHED [tank-server  3/16] WORKDIR /app                                                                                                                               0.0s
 => CACHED [tank-server  4/16] COPY tank_server/Server_CPP/src /app/src/                                                                                                  0.0s
 => CACHED [tank-server  5/16] COPY tank_server/Server_CPP/include /app/include/                                                                                          0.0s
 => CACHED [tank-server  6/16] COPY tank_server/Server_CPP/CMakeLists.txt /app/CMakeLists.txt                                                                             0.0s
 => CACHED [tank-server  7/16] COPY tank_server/Common/Vars.cpp /app/Common/Vars.cpp                                                                                      0.0s
 => CACHED [tank-server  8/16] COPY tank_server/Common/Vars.h /app/Common/Vars.h                                                                                          0.0s
 => CACHED [tank-server  9/16] COPY ProudNet/include /app/ProudNet/include/                                                                                               0.0s
 => CACHED [tank-server 10/16] COPY ProudNet/lib/x86_x64-linux /app/ProudNet/lib/x86_x64-linux/                                                                           0.0s
 => CACHED [tank-server 11/16] COPY ProudNet/util/PNLicenseAuth /app/ProudNet/util/                                                                                       0.0s 
 => CACHED [tank-server 12/16] RUN if [ -f "tank_server/licensekey.txt" ] &&     [ "$(cat tank_server/licensekey.txt)" != "PUT_YOUR_PROUDNET_LICENSE_KEY_HERE" ]; then    0.0s 
 => CACHED [tank-server 13/16] RUN chmod +x /app/ProudNet/util/PNLicenseAuth &&     echo "System information:" &&     uname -a &&     echo "Current directory:" &&     p  0.0s 
 => CACHED [tank-server 14/16] RUN echo "Copied file structure:" &&     ls -la /app &&     echo "Common directory:" &&     ls -la /app/Common/ || echo "Failed to copy C  0.0s 
 => CACHED [tank-server 15/16] RUN echo '#!/bin/bash \necho "Server build starting..." \n\ncheck_file() { \n  if [ ! -f "$1" ]; then \n    echo "File not found: $1" \n   0.0s
 => CACHED [tank-server 16/16] RUN chmod +x /app/start.sh                                                                                                                 0.0s
 => [tank-server] exporting to image                                                                                                                                      0.0s 
 => => exporting layers                                                                                                                                                   0.0s 
 => => writing image sha256:cf987b1363c26bf89aa7ced6c0eca898573679bc92001c3aedee2ff1fe7c649e                                                                              0.0s 
 => => naming to docker.io/library/server_cpp-tank-server                                                                                                                 0.0s 
 => [tank-server] resolving provenance for metadata file                                                                                                                  0.0s 
[+] Running 2/2
 âœ” tank-server                         Built                                                                                                                              0.0s 
 âœ” Container server_cpp-tank-server-1  Created                                                                                                                            0.0s 
Attaching to tank-server-1
tank-server-1  | Server build starting...
tank-server-1  | File found: /app/Common/Vars.cpp
tank-server-1  | File found: /app/Common/Vars.h                                                                                                                                
tank-server-1  | Directory found: /app/ProudNet/lib/x86_64-linux                                                                                                              
tank-server-1  | ProudNet license check in progress...                                                                                                                         
tank-server-1  | License file information:                                                                                                                                     
tank-server-1  | total 18560                                                                                                                                                   
tank-server-1  | drwxr-xr-x 1 root root     4096 Jun  2 15:03 .
tank-server-1  | drwxr-xr-x 1 root root     4096 Jun  2 15:03 ..                                                                                                               
tank-server-1  | -rwxr-xr-x 1 root root 18987960 May 20 23:14 PNLicenseAuth                                                                                                    
tank-server-1  | License key file not found: /app/licensekey.txt                                                                                                               
tank-server-1  | Building without ProudNet license.                                                                                                                            
tank-server-1  | ODBC driver information:                                                                                                                                      
tank-server-1  | /app/start.sh: line 72: odbcinst: command not found                                                                                                           
tank-server-1  | Could not get ODBC information.
tank-server-1  | -- OpenSSL found: /usr/include
tank-server-1  | -- OpenSSL libraries: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so
tank-server-1  | -- OpenSSL version: 3.0.13                                                                                                                                    
tank-server-1  | -- CURL found: /usr/include/x86_64-linux-gnu                                                                                                                  
tank-server-1  | -- CURL libraries: /usr/lib/x86_64-linux-gnu/libcurl.so
tank-server-1  | -- CURL version: 8.5.0                                                                                                                                        
tank-server-1  | -- System check: Linux                                                                                                                                        
tank-server-1  | -- Current working directory: /app                                                                                                                            
tank-server-1  | -- Build type:                                                                                                                                                
tank-server-1  | -- ProudNet Path: /app/ProudNet                                                                                                                               
tank-server-1  | -- Operating System: Linux
tank-server-1  | -- Library path check: /app/ProudNet/lib/x86_64-linux                                                                                                        
tank-server-1  | -- Found Linux ProudNet library: /app/ProudNet/lib/x86_64-linux                                                                                              
tank-server-1  | -- Library file list: /app/ProudNet/lib/x86_64-linux/Debug;/app/ProudNet/lib/x86_64-linux/Release                                                           
tank-server-1  | -- Found ODBC library: /usr/lib/x86_64-linux-gnu/libodbc.so                                                                                                   
tank-server-1  | -- Found ODBCINST library: /usr/lib/x86_64-linux-gnu/libodbcinst.so
tank-server-1  | -- Linking OpenSSL libraries: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so                                                      
tank-server-1  | -- Linking CURL library: /usr/lib/x86_64-linux-gnu/libcurl.so                                                                                                 
tank-server-1  | -- Configuring done (0.1s)                                                                                                                                    
tank-server-1  | -- Generating done (0.0s)                                                                                                                                     
tank-server-1  | -- Build files have been written to: /app/build                                                                                                               
tank-server-1  | [100%] Built target TankGameServer
tank-server-1  | Build completed, attempting to start server...
tank-server-1  | Starting server without license (50 CCU limitation mode).                                                                                                     
tank-server-1  | No NIC binding though multiple NIC detected##Process=/app/build                                                                                               
tank-server-1  | ========== Tank Server Started ==========
tank-server-1  | TCP Server listening on 0.0.0.0:33334                                                                                                                         
tank-server-1  | WebSocket Server listening on 0.0.0.0:33335/ws                                                                                                                
tank-server-1  | Ready to accept connections from all network interfaces                                                                                                       
tank-server-1  | ==========================================                                                                                                                    
tank-server-1  | Server is running. Commands:                                                                                                                                  
tank-server-1  | status: Show connected clients                                                                                                                                
tank-server-1  | health [id]: Show tank health (all or specific ID)
tank-server-1  | damage id amount: Apply damage to a tank                                                                                                                      
tank-server-1  | heal id amount: Heal a tank                                                                                                                                   
tank-server-1  | respawn id x y: Respawn a tank at position (x,y)                                                                                                              
tank-server-1  | q: Quit server</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Docker Build Process Analysis:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Multi-stage Build</strong>: Uses Ubuntu 24.04 base image with cached build layers</li>
                <li class="list-item"><strong class="text-strong">Dependencies Installation</strong>: Installs build-essential, cmake, OpenSSL, CURL development libraries</li>
                <li class="list-item"><strong class="text-strong">File Structure Copy</strong>: Copies source files, ProudNet libraries, and build configuration</li>
                <li class="list-item"><strong class="text-strong">License Detection</strong>: Checks for ProudNet license key (falls back to 50 CCU limitation mode)</li>
                <li class="list-item"><strong class="text-strong">Library Detection</strong>: Automatically finds and links system libraries:
                    <ul class="unordered-list">
                        <li class="list-item"><strong class="text-strong">OpenSSL 3.0.13</strong>: SSL/TLS support</li>
                        <li class="list-item"><strong class="text-strong">CURL 8.5.0</strong>: HTTP client support</li>
                        <li class="list-item"><strong class="text-strong">ODBC</strong>: Database connectivity support</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">CMake Configuration</strong>: Configures build with Linux-specific ProudNet libraries</li>
                <li class="list-item"><strong class="text-strong">Compilation</strong>: Successfully builds TankGameServer executable</li>
                <li class="list-item"><strong class="text-strong">Server Startup</strong>: Starts in 50 CCU limitation mode (no license key provided)</li>
            </ol>

            <p class="paragraph"><strong class="text-strong">ğŸ“‹ Docker Container Details:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Base image</strong>: Ubuntu 24.04 LTS</li>
                <li class="list-item"><strong class="text-strong">Multi-stage build</strong>: Optimized container size</li>
                <li class="list-item"><strong class="text-strong">Port exposure</strong>: 33334-33335 mapped to host ports</li>
                <li class="list-item"><strong class="text-strong">ProudNet libraries</strong>: Automatically copied and linked</li>
                <li class="list-item"><strong class="text-strong">Production ready</strong>: Minimal runtime dependencies</li>
            </ul>

            <h4 class="heading-4">Docker Container Management</h4>

            <p class="paragraph"><strong class="text-strong">View running containers:</strong></p>
            <div class="code-block">
                <pre>docker ps</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Output:</strong></p>
            <div class="code-block">
                <pre>CONTAINER ID   IMAGE                    COMMAND                   CREATED       STATUS         PORTS                                  NAMES
dd96172cd51d   server_cpp-tank-server   "/bin/bash /app/starâ€¦"   2 hours ago   Up 7 seconds   0.0.0.0:33334-33335->33334-33335/tcp   server_cpp-tank-server-1</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">View server logs:</strong></p>
            <div class="code-block">
                <pre>docker logs server_cpp-tank-server-1</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Stop the server:</strong></p>
            <div class="code-block">
                <pre>docker-compose down</pre>
            </div>

            <h3 class="heading-3">Step 6: Cross-Platform Client Testing</h3>

            <p class="paragraph"><strong class="text-strong">ğŸŒ Test C# Client â†’ C++ Docker Server:</strong></p>
            <p class="paragraph">The C# client can connect to the dockerized C++ server running on Ubuntu:</p>

            <div class="code-block">
                <pre># In another terminal, run the C# client
cd tank_server/Client/bin/Debug/net9.0
TankClient.exe</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Client Connection:</strong></p>
            <div class="code-block">
                <pre>Connected to server. My ID: 3</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Expected Docker Server Log:</strong></p>
            <div class="code-block">
                <pre>tank-server-cpp  | Client 3 connected from 172.17.0.1:52341
tank-server-cpp  | New tank created for client 3 with tank type -1 and health 100/100</pre>
            </div>

            <h3 class="heading-3">Key Benefits of C++ Implementation:</h3>

            <p class="paragraph"><strong class="text-strong">ğŸš€ Performance:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Native C++ performance for high-CCU scenarios</li>
                <li class="list-item">Optimized memory management and networking</li>
                <li class="list-item">Suitable for production game servers</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ§ Cross-Platform:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Windows development with Visual Studio/CMake</li>
                <li class="list-item">Linux deployment with Docker containers</li>
                <li class="list-item">Ubuntu 24.04 LTS for stable production environment</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ“¦ Containerization:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Dockerized deployment for cloud platforms</li>
                <li class="list-item">Scalable infrastructure with container orchestration</li>
                <li class="list-item">Isolated runtime environment with minimal dependencies</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ”„ Protocol Compatibility:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">100% compatible with C# clients</li>
                <li class="list-item">Same PIDL protocol definitions</li>
                <li class="list-item">Seamless migration between C# and C++ servers</li>
            </ul>

            <h3 class="heading-3">WebSocket Integration</h3>

            <p class="paragraph"><strong class="text-strong">ğŸŒ Additional WebSocket Server (Port 33335):</strong></p>
            <p class="paragraph">The C++ server implementation includes an additional WebSocket server that runs alongside the main TCP server:</p>

            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">TCP Server</strong>: Port 33334 (for desktop C# clients)</li>
                <li class="list-item"><strong class="text-strong">WebSocket Server</strong>: Port 33335/ws (for Unity WebGL clients)</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ® Unity WebGL Client Support:</strong></p>
            <p class="paragraph">This WebSocket functionality is specifically designed for Unity tank clients that will be built as WebGL applications:</p>

            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Web Browser Gaming</strong>: Unity WebGL clients can connect directly through web browsers</li>
                <li class="list-item"><strong class="text-strong">Same Game Protocol</strong>: Uses identical Tank.PIDL RMI functions over WebSocket transport</li>
                <li class="list-item"><strong class="text-strong">Cross-Platform Multiplayer</strong>: Desktop clients (TCP) and web clients (WebSocket) can play together in the same game sessions</li>
                <li class="list-item"><strong class="text-strong">No Installation Required</strong>: Players can join games instantly through any modern web browser</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">Connection Example:</strong></p>
            <div class="code-block">
                <pre>ws://localhost:33335/ws  // Local development
ws://your-server.com:33335/ws  // Production deployment</pre>
            </div>

            <p class="paragraph">This dual-protocol architecture enables seamless integration between traditional desktop applications and modern web-based gaming platforms.</p>
        </section>

        <section id="multiplayer-movement-testing" class="md-section">
            <h2 class="heading-2">4. Multiplayer Movement Testing</h2>

            <p class="paragraph">This section demonstrates a real-world scenario where two clients connect simultaneously and test tank movement functionality.</p>

            <h3 class="heading-3">Test Scenario</h3>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Client 1 (ID=3)</strong>: Uses <code class="inline-code">move 1 1 0</code> command to move to position (1,1) with direction 0 degrees</li>
                <li class="list-item"><strong class="text-strong">Client 2 (ID=4)</strong>: Uses <code class="inline-code">move 2 2 90</code> command to move to position (2,2) with direction 90 degrees</li>
            </ul>

            <h3 class="heading-3">Client 1 (ID=3) Console Log:</h3>
            <div class="code-block">
                <pre>Connected to server. My ID: 3
move 1 1 0
Status: Tank ID=3, Position=(1,1), Type=0, Health=100/100
OnPlayerJoined: Tank 4 joined at (64.18131,34.385406) with tank type -1
P2P: Member 3 joined group 5
P2P: Member 4 joined group 5
P2P: Added member 4 to group member list
OnTankHealthUpdated: Tank 4 health: 100/100
P2P: Received group info, Group ID: 5
>>> OTHER TANK 4 MOVED TO (2,2) dir=90</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Client 1 Log Analysis:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Self Movement Processing</strong>: After executing <code class="inline-code">move 1 1 0</code> command, own tank status is updated</li>
                <li class="list-item"><strong class="text-strong">New Player Detection</strong>: Receives <code class="inline-code">OnPlayerJoined</code> event when Client 4 connects to server</li>
                <li class="list-item"><strong class="text-strong">P2P Group Formation</strong>: P2P group (ID: 5) is created when 2+ clients are connected</li>
                <li class="list-item"><strong class="text-strong">Other Tank Movement Notification</strong>: Receives Client 4's movement in real-time and displays it</li>
            </ol>

            <h3 class="heading-3">Client 2 (ID=4) Console Log:</h3>
            <div class="code-block">
                <pre>Connected to server. My ID: 4
P2P: Member 4 joined group 5
P2P: Member 3 joined group 5
P2P: Added member 3 to group member list
OnPlayerJoined: Tank 3 joined at (1,1) with tank type -1
OnTankHealthUpdated: Tank 3 health: 100/100
P2P: Received group info, Group ID: 5
move 2 2 90
Status: Tank ID=4, Position=(2,2), Type=0, Health=100/100</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Client 2 Log Analysis:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Server Connection</strong>: Successfully connected to server and assigned ID 4</li>
                <li class="list-item"><strong class="text-strong">P2P Group Participation</strong>: Joins P2P group 5 together with existing Client 3</li>
                <li class="list-item"><strong class="text-strong">Existing Player Info Reception</strong>: Receives tank information (position, health) of already connected Client 3</li>
                <li class="list-item"><strong class="text-strong">Self Movement Execution</strong>: Uses <code class="inline-code">move 2 2 90</code> command to move tank to position (2,2) with 90-degree direction</li>
            </ol>

            <h3 class="heading-3">Server Console Log:</h3>
            <div class="code-block">
                <pre>New tank created for client 4 with tank type -1 and health 100/100
Sending existing player info to new client: ID=3, Type=-1, Health=100/100
Notifying existing client 3 about new player: ID=4, Type=-1, Health=100/100
P2P group created with 2 members, Group ID: 5
Sent P2P group info to client 3: P2P_GROUP_INFO:5
Sent P2P group info to client 4: P2P_GROUP_INFO:5
SendMove from client 4: pos=(2,2), direction=90</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Server Log Analysis:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">New Client Processing</strong>: Creates new tank object for Client 4 (initial health 100/100)</li>
                <li class="list-item"><strong class="text-strong">Player Information Synchronization</strong>:
                    <ul class="unordered-list">
                        <li class="list-item">Sends existing player (ID=3) information to new client (ID=4)</li>
                        <li class="list-item">Notifies existing client (ID=3) about new player (ID=4)</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">P2P Group Management</strong>: Creates P2P group (ID: 5) when 2+ clients are present and distributes group information</li>
                <li class="list-item"><strong class="text-strong">Movement Command Processing</strong>: Receives and processes Client 4's <code class="inline-code">SendMove</code> RMI call</li>
            </ol>

            <h3 class="heading-3">Core Multiplayer Features Verification:</h3>

            <p class="paragraph"><strong class="text-strong">ğŸ”„ Real-time Synchronization:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Movement from one client is immediately propagated to all other clients</li>
                <li class="list-item">Server manages state centrally and broadcasts to all clients</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸŒ P2P Networking:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">P2P group is automatically formed when 2+ clients are connected</li>
                <li class="list-item">Direct client-to-client communication improves network efficiency</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ“Š State Management:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Position, direction, and health of each tank are synchronized across all clients</li>
                <li class="list-item">Newly connected clients automatically receive existing game state</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ® Game Logic:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Tank type, position, and direction are accurately transmitted and displayed</li>
                <li class="list-item">Each player's actions are reflected in real-time in the multiplayer environment</li>
            </ul>
        </section>

        <section id="fire-and-messaging-testing" class="md-section">
            <h2 class="heading-2">5. å°„å‡»å’Œæ¶ˆæ¯æµ‹è¯•</h2>

            <p class="paragraph">é™¤äº†ç§»åŠ¨ä¹‹å¤–ï¼Œå®¢æˆ·ç«¯è¿˜å¯ä»¥æµ‹è¯•æŠ›å°„ç‰©å°„å‡»å’ŒP2Pæ¶ˆæ¯åŠŸèƒ½ã€‚</p>

            <h3 class="heading-3">æ‰©å±•æµ‹è¯•å‘½ä»¤</h3>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">å°„å‡»å‘½ä»¤</strong>ï¼š<code class="inline-code">fire 180 10</code> - ä»¥180åº¦æ–¹å‘å’Œ10çš„åŠ›é‡å‘å°„æŠ›å°„ç‰©</li>
                <li class="list-item"><strong class="text-strong">æ¶ˆæ¯å‘½ä»¤</strong>ï¼š<code class="inline-code">msg hi</code> - å‘å…¶ä»–è¿æ¥çš„å®¢æˆ·ç«¯å‘é€P2Pæ¶ˆæ¯"hi"</li>
            </ul>

            <h3 class="heading-3">å®¢æˆ·ç«¯1ï¼ˆID=3ï¼‰å°„å‡»å’Œæ¶ˆæ¯å‘½ä»¤ï¼š</h3>
            <div class="code-block">
                <pre>fire 180 10
Fire request sent: direction=180, force=10, position=(1, 1, 1)
Status: Tank ID=3, Position=(1,1), Type=0, Health=100/100
msg hi
P2P message sent via server: hi
Status: Tank ID=3, Position=(1,1), Type=0, Health=100/100</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">å®¢æˆ·ç«¯1å‘½ä»¤åˆ†æï¼š</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">å°„å‡»å‘½ä»¤æ‰§è¡Œ</strong>ï¼š<code class="inline-code">fire 180 10</code>ä»¥180åº¦æ–¹å‘å’ŒåŠ›é‡å€¼10å‘é€æŠ›å°„ç‰©</li>
                <li class="list-item"><strong class="text-strong">å°„å‡»ç¡®è®¤</strong>ï¼šå®¢æˆ·ç«¯æ¥æ”¶å¸¦æœ‰å°„å‡»ä½ç½®å’Œå‚æ•°çš„ç¡®è®¤</li>
                <li class="list-item"><strong class="text-strong">æ¶ˆæ¯å‘½ä»¤æ‰§è¡Œ</strong>ï¼š<code class="inline-code">msg hi</code>å‘æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯å‘é€P2Pæ¶ˆæ¯</li>
                <li class="list-item"><strong class="text-strong">æ¶ˆæ¯ç¡®è®¤</strong>ï¼šå®¢æˆ·ç«¯æ¥æ”¶ç¡®è®¤æ¶ˆæ¯å·²é€šè¿‡æœåŠ¡å™¨ä¸­ç»§å‘é€</li>
            </ol>

            <h3 class="heading-3">å®¢æˆ·ç«¯2ï¼ˆID=4ï¼‰æ¥æ”¶å°„å‡»å’Œæ¶ˆæ¯äº‹ä»¶ï¼š</h3>
            <div class="code-block">
                <pre>OnSpawnBullet: Tank 3 fired from (1,1) dir=180, force=10
Fire position: (1, 1, 1), shooter ID=3
P2P Message from Client ID 3 (relayed): hi</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Client 2 Reception Analysis:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Bullet Spawn Event</strong>: Receives <code class="inline-code">OnSpawnBullet</code> RMI call with firing tank's position and projectile parameters</li>
                <li class="list-item"><strong class="text-strong">Fire Details</strong>: Gets complete information about shooter ID, position, direction, and force</li>
                <li class="list-item"><strong class="text-strong">P2P Message Reception</strong>: Receives the P2P message from Client 3 relayed through the server</li>
            </ol>

            <h3 class="heading-3">Key Multiplayer Communication Features:</h3>

            <p class="paragraph"><strong class="text-strong">ğŸ”« Projectile System:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Fire commands are synchronized across all clients in real-time</li>
                <li class="list-item">Each client receives complete projectile information (position, direction, force, shooter ID)</li>
                <li class="list-item">Projectile spawn events are properly broadcast to maintain game state consistency</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ’¬ P2P Messaging:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Messages are sent through server relay to ensure delivery</li>
                <li class="list-item">All connected clients receive messages from any sender</li>
                <li class="list-item">Message source identification (sender Client ID) is preserved</li>
                <li class="list-item">Reliable message delivery through ProudNet's P2P infrastructure</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">ğŸ”„ Event Broadcasting:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">All game actions (movement, firing, messaging) are immediately propagated</li>
                <li class="list-item">Consistent game state maintained across all connected clients</li>
                <li class="list-item">Real-time multiplayer interaction without noticeable delays</li>
            </ul>
        </section>

        <section id="troubleshooting" class="md-section">
            <h2 class="heading-2">æ•…éšœæ’é™¤</h2>

            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">æ„å»ºé”™è¯¯</strong>ï¼šç¡®ä¿ProudNet DLLä½äºæ­£ç¡®çš„è·¯å¾„</li>
                <li class="list-item"><strong class="text-strong">è¿æ¥å¤±è´¥</strong>ï¼šæ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œå’Œé˜²ç«å¢™è®¾ç½®</li>
                <li class="list-item"><strong class="text-strong">PIDLç¼–è¯‘é”™è¯¯</strong>ï¼šéªŒè¯<code class="inline-code">ProudNet/util/PIDL.exe</code>å­˜åœ¨ä¸”å¯è®¿é—®</li>
                <li class="list-item"><strong class="text-strong">è¿è¡Œæ—¶å¼‚å¸¸</strong>ï¼šç¡®è®¤æ‰€æœ‰ProudNet DLLå·²å¤åˆ¶åˆ°è¾“å‡ºç›®å½•</li>
            </ul>
        </section>
    </div>

    <!-- ì´ë¯¸ì§€ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ include -->
    <!-- ì´ë¯¸ì§€ ëª¨ë‹¬ - ëª¨ë“  HTML ë¬¸ì„œì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê³µí†µ ì»´í¬ë„ŒíŠ¸ -->
    <div id="imageModal" class="image-modal">
        <div class="image-modal-content">
            <button class="image-modal-close" onclick="closeImageModal()">&times;</button>
            <img id="modalImage" class="image-modal-image" src="" alt="">
            <div id="modalCaption" class="image-modal-caption"></div>
        </div>
    </div>
    <!-- JavaScriptëŠ” js/image-modal.jsì—ì„œ ìë™ ë¡œë“œë¨ -->
</body>
</html>
 