<!DOCTYPE html>
<html lang="vn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√†i li·ªáu D·ª± √°n Server Game Tank</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/image-modal.js"></script>
    <script src="js/language-selector.js"></script>
</head>
<body>
    <div class="md-container">
        <div class="md-header">
            <h1>D·ª± √°n Server Game Tank</h1>
            <p class="paragraph">M·ªôt tri·ªÉn khai server game tank ƒëa ng∆∞·ªùi ch∆°i s·ª≠ d·ª•ng th∆∞ vi·ªán m·∫°ng ProudNet, cung c·∫•p c·∫£ phi√™n b·∫£n C# v√† C++ v·ªõi h·ªó tr·ª£ ƒëa n·ªÅn t·∫£ng.</p>
        </div>

        <div class="md-nav">
            <h3 class="heading-3">üìã M·ª•c l·ª•c</h3>
            <ul class="unordered-list">
                <li class="list-item"><a href="#prerequisites" class="link">ƒêi·ªÅu ki·ªán ti√™n quy·∫øt</a></li>
                <li class="list-item"><a href="#project-structure" class="link">C·∫•u tr√∫c D·ª± √°n</a></li>
                <li class="list-item"><a href="#development-notes" class="link">Ghi ch√∫ Ph√°t tri·ªÉn</a></li>
                <li class="list-item"><a href="#getting-started" class="link">B·∫Øt ƒë·∫ßu</a></li>
                <li class="list-item"><a href="#cs-server-implementation" class="link">1. Tri·ªÉn khai Server C#</a></li>
                <li class="list-item"><a href="#cs-client-implementation" class="link">2. Tri·ªÉn khai Client C#</a></li>
                <li class="list-item"><a href="#cpp-server-implementation" class="link">3. Tri·ªÉn khai Server C++ (T√πy ch·ªçn)</a></li>
                <li class="list-item"><a href="#multiplayer-movement-testing" class="link">4. Ki·ªÉm tra Di chuy·ªÉn ƒêa ng∆∞·ªùi ch∆°i</a></li>
                <li class="list-item"><a href="#fire-and-messaging-testing" class="link">5. Ki·ªÉm tra B·∫Øn s√∫ng v√† Tin nh·∫Øn</a></li>
                <li class="list-item"><a href="#troubleshooting" class="link">Kh·∫Øc ph·ª•c s·ª± c·ªë</a></li>
            </ul>
        </div>

        <section id="prerequisites" class="md-section">
            <h2 class="heading-2">ƒêi·ªÅu ki·ªán ti√™n quy·∫øt</h2>
            <p class="paragraph">Tr∆∞·ªõc khi x√¢y d·ª±ng d·ª± √°n n√†y, b·∫°n ph·∫£i c√†i ƒë·∫∑t th∆∞ m·ª•c <strong class="text-strong">ProudNet</strong> ·ªü c√πng c·∫•p ƒë·ªô v·ªõi th∆∞ m·ª•c d·ª± √°n <code class="inline-code">tank_server</code>.</p>

            <h3 class="heading-3">C·∫•u tr√∫c Th∆∞ m·ª•c Y√™u c·∫ßu</h3>
            <div class="code-block">
                <pre>project_root/
‚îú‚îÄ‚îÄ tank_server/          # D·ª± √°n n√†y
‚îÇ   ‚îú‚îÄ‚îÄ Common/
‚îÇ   ‚îú‚îÄ‚îÄ Server/
‚îÇ   ‚îú‚îÄ‚îÄ Client/
‚îÇ   ‚îî‚îÄ‚îÄ Server_CPP/
‚îî‚îÄ‚îÄ ProudNet/            # Y√™u c·∫ßu: C√°c t·ªáp t·ª´ c√†i ƒë·∫∑t ProudNet
    ‚îú‚îÄ‚îÄ doc/             # T√†i li·ªáu ProudNet
    ‚îú‚îÄ‚îÄ include/         # T·ªáp header ProudNet
    ‚îú‚îÄ‚îÄ lib/             # T·ªáp th∆∞ vi·ªán ProudNet
    ‚îú‚îÄ‚îÄ Sample/          # D·ª± √°n m·∫´u ProudNet
    ‚îî‚îÄ‚îÄ util/            # Ti·ªán √≠ch ProudNet</pre>
            </div>

            <h3 class="heading-3">C√†i ƒë·∫∑t ProudNet</h3>
            <ol class="ordered-list">
                <li class="list-item">T·∫£i xu·ªëng v√† c√†i ƒë·∫∑t ProudNet t·ª´ trang web ch√≠nh th·ª©c</li>
                <li class="list-item">ƒê·∫£m b·∫£o th∆∞ m·ª•c ProudNet ch·ª©a c√°c th∆∞ m·ª•c con sau:
                    <ul class="unordered-list">
                        <li class="list-item"><code class="inline-code">doc/</code> - T·ªáp t√†i li·ªáu</li>
                        <li class="list-item"><code class="inline-code">include/</code> - T·ªáp header cho ph√°t tri·ªÉn C++</li>
                        <li class="list-item"><code class="inline-code">lib/</code> - T·ªáp th∆∞ vi·ªán cho c·∫£ .NET v√† C++</li>
                        <li class="list-item"><code class="inline-code">Sample/</code> - D·ª± √°n v√≠ d·ª•</li>
                        <li class="list-item"><code class="inline-code">util/</code> - C√¥ng c·ª• ti·ªán √≠ch v√† x√°c th·ª±c gi·∫•y ph√©p</li>
                    </ul>
                </li>
            </ol>
        </section>

        <section id="project-structure" class="md-section">
            <h2 class="heading-2">C·∫•u tr√∫c D·ª± √°n</h2>
            
            <h3 class="heading-3">üìÅ Common</h3>
            <p class="paragraph">Ch·ª©a c√°c t√†i nguy√™n chia s·∫ª ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi c·∫£ tri·ªÉn khai server v√† client.</p>
            
            <p class="paragraph"><strong class="text-strong">N·ªôi dung:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">T·ªáp PIDL</strong> - T·ªáp Ng√¥n ng·ªØ ƒê·ªãnh nghƒ©a Giao di·ªán Giao th·ª©c ƒë·ªãnh nghƒ©a c√°c h√†m RMI (Remote Method Invocation)</li>
                <li class="list-item"><strong class="text-strong">T·ªáp Batch</strong> - Script ƒë·ªÉ bi√™n d·ªãch t·ªáp PIDL th√†nh c√°c l·ªõp stub/proxy C# v√† C++</li>
                <li class="list-item"><strong class="text-strong">Vars.cs/Vars.h</strong> - Bi·∫øn c·∫•u h√¨nh chia s·∫ª (c·ªïng server, phi√™n b·∫£n giao th·ª©c, v.v.)</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">T·ªáp quan tr·ªçng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">Tank.PIDL</code> - ƒê·ªãnh nghƒ©a giao th·ª©c game tank</li>
                <li class="list-item"><code class="inline-code">CompilePIDL_cs.bat</code> - Script bi√™n d·ªãch PIDL (C#)</li>
                <li class="list-item"><code class="inline-code">CompilePIDL_cpp.bat</code> - Script bi√™n d·ªãch PIDL (C++)</li>
                <li class="list-item"><code class="inline-code">Vars.cs</code> - C·∫•u h√¨nh C#</li>
                <li class="list-item"><code class="inline-code">Vars.h</code> - C·∫•u h√¨nh C++</li>
            </ul>

            <h3 class="heading-3">üñ•Ô∏è Server</h3>
            <p class="paragraph">Tri·ªÉn khai C# c·ªßa server game tank.</p>
            
            <p class="paragraph"><strong class="text-strong">T√≠nh nƒÉng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Server game tank ƒëa ng∆∞·ªùi ch∆°i th·ªùi gian th·ª±c</li>
                <li class="list-item">Di chuy·ªÉn tank, b·∫Øn s√∫ng v√† qu·∫£n l√Ω s·ª©c kh·ªèe</li>
                <li class="list-item">X·ª≠ l√Ω k·∫øt n·ªëi/ng·∫Øt k·∫øt n·ªëi ng∆∞·ªùi ch∆°i</li>
                <li class="list-item">Qu·∫£n l√Ω nh√≥m P2P ƒë·ªÉ m·∫°ng hi·ªáu qu·∫£</li>
                <li class="list-item">L·ªánh console server (damage, heal, respawn, status)</li>
                <li class="list-item">T∆∞∆°ng th√≠ch Windows/.NET</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">T·ªáp quan tr·ªçng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">TankServer.cs</code> - Tri·ªÉn khai server ch√≠nh</li>
                <li class="list-item"><code class="inline-code">TankServer.csproj</code> - T·ªáp d·ª± √°n .NET</li>
                <li class="list-item"><code class="inline-code">build.bat</code> - Script x√¢y d·ª±ng v·ªõi sao ch√©p DLL</li>
            </ul>

            <h3 class="heading-3">üéÆ Client</h3>
            <p class="paragraph">Client console C# cho game tank.</p>
            
            <p class="paragraph"><strong class="text-strong">T√≠nh nƒÉng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Giao di·ªán console cho client game tank</li>
                <li class="list-item">ƒêi·ªÅu khi·ªÉn di chuy·ªÉn v√† b·∫Øn s√∫ng tank</li>
                <li class="list-item">Giao ti·∫øp th·ªùi gian th·ª±c v·ªõi server</li>
                <li class="list-item">H·ªó tr·ª£ tin nh·∫Øn P2P</li>
                <li class="list-item">T∆∞∆°ng th√≠ch Windows/.NET</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">T·ªáp quan tr·ªçng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">TankClient.cs</code> - Tri·ªÉn khai client ch√≠nh</li>
                <li class="list-item"><code class="inline-code">TankClient.csproj</code> - T·ªáp d·ª± √°n .NET</li>
                <li class="list-item"><code class="inline-code">build.bat</code> - Script x√¢y d·ª±ng v·ªõi sao ch√©p DLL</li>
            </ul>

            <h3 class="heading-3">üêß Server_CPP</h3>
            <p class="paragraph">Tri·ªÉn khai C++ c·ªßa server game tank v·ªõi h·ªó tr·ª£ Linux.</p>
            
            <p class="paragraph"><strong class="text-strong">T√≠nh nƒÉng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Server game tank ƒëa n·ªÅn t·∫£ng (Windows/Linux)</li>
                <li class="list-item">H·ªó tr·ª£ container h√≥a Docker</li>
                <li class="list-item">H·ªá th·ªëng x√¢y d·ª±ng CMake</li>
                <li class="list-item">Logic game gi·ªëng nh∆∞ phi√™n b·∫£n C#</li>
                <li class="list-item">S·∫µn s√†ng tri·ªÉn khai s·∫£n xu·∫•t Linux</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">T·ªáp quan tr·ªçng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">src/TankServer.cpp</code> - Tri·ªÉn khai server C++ ch√≠nh</li>
                <li class="list-item"><code class="inline-code">CMakeLists.txt</code> - C·∫•u h√¨nh CMake</li>
                <li class="list-item"><code class="inline-code">Dockerfile</code> - C·∫•u h√¨nh container Docker</li>
                <li class="list-item"><code class="inline-code">docker-compose.yml</code> - Thi·∫øt l·∫≠p Docker Compose</li>
                <li class="list-item"><code class="inline-code">run.bat</code> - Script th·ª±c thi Windows</li>
            </ul>
            
            <p class="paragraph"><strong class="text-strong">T√πy ch·ªçn X√¢y d·ª±ng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Windows</strong>: Visual Studio v·ªõi CMake</li>
                <li class="list-item"><strong class="text-strong">Linux</strong>: GCC v·ªõi CMake</li>
                <li class="list-item"><strong class="text-strong">Docker</strong>: Tri·ªÉn khai container h√≥a</li>
            </ul>
        </section>

        <section id="development-notes" class="md-section">
            <h2 class="heading-2">Ghi ch√∫ Ph√°t tri·ªÉn</h2>
            <ul class="unordered-list">
                <li class="list-item">Phi√™n b·∫£n C# y√™u c·∫ßu .NET 9.0</li>
                <li class="list-item">Phi√™n b·∫£n C++ y√™u c·∫ßu ti√™u chu·∫©n C++17</li>
                <li class="list-item">C·∫£ hai phi√™n b·∫£n chia s·∫ª c√πng ƒë·ªãnh nghƒ©a giao th·ª©c qua t·ªáp PIDL</li>
                <li class="list-item">Tri·ªÉn khai Docker h·ªó tr·ª£ t·ª± ƒë·ªông ph√°t hi·ªán v√† sao ch√©p th∆∞ vi·ªán ProudNet</li>
            </ul>
        </section>

        <section id="getting-started" class="md-section">
            <h2 class="heading-2">B·∫Øt ƒë·∫ßu</h2>
            
            <h3 class="heading-3">ƒêi·ªÅu ki·ªán ti√™n quy·∫øt</h3>
            <ol class="ordered-list">
                <li class="list-item">Sao ch√©p c√°c t·ªáp ProudNet t·ª´ v·ªã tr√≠ c√†i ƒë·∫∑t ProudNet c·ªßa b·∫°n ƒë·ªÉ t·∫°o th∆∞ m·ª•c <code class="inline-code">ProudNet/</code> ·ªü c√πng c·∫•p ƒë·ªô v·ªõi <code class="inline-code">tank_server/</code></li>
                <li class="list-item">X√°c minh r·∫±ng <code class="inline-code">ProudNet/util/PIDL.exe</code> t·ªìn t·∫°i ƒë·ªÉ bi√™n d·ªãch giao th·ª©c</li>
            </ol>
        </section>

        <section id="cs-server-implementation" class="md-section">
            <h2 class="heading-2">1. Tri·ªÉn khai Server C#</h2>

            <h3 class="heading-3">B∆∞·ªõc 1: Hi·ªÉu ƒê·ªãnh nghƒ©a Giao th·ª©c (Tank.PIDL)</h3>
            <p class="paragraph">T·ªáp <code class="inline-code">Tank.PIDL</code> ƒë·ªãnh nghƒ©a giao th·ª©c giao ti·∫øp gi·ªØa server v√† client:</p>

            <div class="code-block">
                <pre>// Tank.PIDL - Protocol Interface Definition Language
global Tank 2000 // Client-Server and Server-Client RMI, first message ID = 2000
{
    // Client to Server functions
    SendMove([in] float posX, [in] float posY, [in] float direction);
    SendFire([in] int shooterId, [in] float direction, [in] float launchForce, ...);
    SendTankType([in] int tankType);
    
    // Server to Client functions  
    OnPlayerJoined([in] int clientId, [in] float posX, [in] float posY, [in] int tankType);
    OnTankPositionUpdated([in] int clientId, [in] float posX, [in] float posY, [in] float direction);
    OnSpawnBullet([in] int clientId, [in] int shooterId, ...);
    // ... more RMI functions
}</pre>
            </div>

            <p class="paragraph">T·ªáp PIDL n√†y ƒë·ªãnh nghƒ©a:</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">H√†m RMI</strong> g·ª≠i t·ª´ Client ƒë·∫øn Server (SendMove, SendFire, v.v.)</li>
                <li class="list-item"><strong class="text-strong">H√†m RMI</strong> g·ª≠i t·ª´ Server ƒë·∫øn Client (OnPlayerJoined, OnTankPositionUpdated, v.v.)</li>
                <li class="list-item"><strong class="text-strong">Tin nh·∫Øn P2P</strong> ƒë·ªÉ giao ti·∫øp tr·ª±c ti·∫øp gi·ªØa client</li>
            </ul>

            <h3 class="heading-3">B∆∞·ªõc 2: T·∫°o c√°c L·ªõp Stub v√† Proxy C#</h3>
            <p class="paragraph">Ch·∫°y tr√¨nh bi√™n d·ªãch PIDL ƒë·ªÉ t·∫°o m√£ m·∫°ng C#:</p>

            <div class="code-block">
                <pre>cd tank_server/Common
CompilePIDL_cs.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Common [master +5 ~14 -15 !]> .\CompilePIDL_cs.bat 
PIDL compile complete!
Press any key to continue . . .</pre>
            </div>

            <p class="paragraph">Script n√†y s·∫Ω:</p>
            <ul class="unordered-list">
                <li class="list-item">Th·ª±c thi <code class="inline-code">ProudNet/util/PIDL.exe -cs Tank.PIDL -outdir ../Server</code></li>
                <li class="list-item">Th·ª±c thi <code class="inline-code">ProudNet/util/PIDL.exe -cs Tank.PIDL -outdir ../Client</code></li>
                <li class="list-item">T·∫°o t·ªáp trong c·∫£ th∆∞ m·ª•c Server v√† Client:
                    <ul class="unordered-list">
                        <li class="list-item"><code class="inline-code">Tank_stub.cs</code> - X·ª≠ l√Ω c√°c cu·ªôc g·ªçi RMI ƒë·∫øn</li>
                        <li class="list-item"><code class="inline-code">Tank_proxy.cs</code> - G·ª≠i c√°c cu·ªôc g·ªçi RMI ƒëi</li>
                        <li class="list-item"><code class="inline-code">Tank_common.cs</code> - ƒê·ªãnh nghƒ©a v√† h·∫±ng s·ªë chung</li>
                    </ul>
                </li>
            </ul>

            <h3 class="heading-3">B∆∞·ªõc 3: X√¢y d·ª±ng Server</h3>
            <p class="paragraph">ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn th∆∞ m·ª•c Server v√† x√¢y d·ª±ng:</p>

            <div class="code-block">
                <pre>cd tank_server/Server
build.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server [master +15 ~13 -15 !]> ./build.bat
========================================
Tank Server Build Script
========================================
Build configuration: Debug
Building Tank Server...
Restore complete (0.2s)
  TankServer succeeded (1.8s) ‚Üí bin\Debug\net9.0\TankServer.dll

Build succeeded in 2.3s
Build completed successfully!
Using build output path: bin\Debug\net9.0
Build output directory exists: bin\Debug\net9.0
ProudNet DotNet directory exists: ..\..\ProudNet\lib\DotNet
ProudNet x64 directory exists: ..\..\ProudNet\lib\DotNet\x64
========================================
Copying ProudNet DLLs...
========================================
Copying libcrypto-3-x64.dll...
        1 file(s) copied.
Copying libssl-3-x64.dll...
        1 file(s) copied.
Copying ProudDotNetClient.dll...
        1 file(s) copied.
Copying ProudDotNetClient.pdb...
        1 file(s) copied.
Copying ProudDotNetServer.dll...
        1 file(s) copied.
Copying ProudDotNetServer.pdb...
        1 file(s) copied.
Copying ProudNetClient.dll...
        1 file(s) copied.
Copying ProudNetClientPlugin.dll...
        1 file(s) copied.
Copying ProudNetServer.dll...
        1 file(s) copied.
Copying ProudNetServerPlugin.dll...
        1 file(s) copied.
Copying ProudNetServerPlugin.pdb...
        1 file(s) copied.
========================================
Build and DLL copy completed!
========================================

Output directory: bin\Debug\net9.0
You can now run the Tank Server executable.

Press any key to continue . . .</pre>
            </div>

            <p class="paragraph">Script x√¢y d·ª±ng s·∫Ω:</p>
            <ul class="unordered-list">
                <li class="list-item">Bi√™n d·ªãch d·ª± √°n C# s·ª≠ d·ª•ng <code class="inline-code">dotnet build --configuration Debug</code></li>
                <li class="list-item">Sao ch√©p c√°c DLL ProudNet c·∫ßn thi·∫øt v√†o th∆∞ m·ª•c ƒë·∫ßu ra:
                    <ul class="unordered-list">
                        <li class="list-item"><code class="inline-code">ProudDotNetServer.dll</code>, <code class="inline-code">ProudDotNetClient.dll</code></li>
                        <li class="list-item"><code class="inline-code">ProudNetServer.dll</code>, <code class="inline-code">ProudNetServerPlugin.dll</code></li>
                        <li class="list-item"><code class="inline-code">libcrypto-3-x64.dll</code>, <code class="inline-code">libssl-3-x64.dll</code></li>
                    </ul>
                </li>
            </ul>

            <h3 class="heading-3">B∆∞·ªõc 4: Ch·∫°y Server</h3>
            <div class="code-block">
                <pre>cd tank_server/Server/bin/Debug/net9.0
TankServer.exe</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server [master +5 ~14 -15 !]> .\bin\Debug\net9.0\TankServer.exe      
Tank Server started on port 33334
Server is running. Commands:
status: Show connected clients
health [id]: Show tank health (all or specific ID)
damage id amount: Apply damage to a tank
heal id amount: Heal a tank
respawn id x y: Respawn a tank at position (x,y)
q: Quit server
Client 3 connected
New tank created for client 3 with tank type -1 and health 100/100
Not enough clients to create P2P group (need at least 2)</pre>
            </div>

            <p class="paragraph">Server s·∫Ω:</p>
            <ul class="unordered-list">
                <li class="list-item">B·∫Øt ƒë·∫ßu l·∫Øng nghe tr√™n c·ªïng 33334</li>
                <li class="list-item">Hi·ªÉn th·ªã tr·∫°ng th√°i k·∫øt n·ªëi v√† s·ª± ki·ªán game</li>
                <li class="list-item">Ch·∫•p nh·∫≠n l·ªánh: <code class="inline-code">status</code>, <code class="inline-code">health</code>, <code class="inline-code">damage</code>, <code class="inline-code">heal</code>, <code class="inline-code">respawn</code>, <code class="inline-code">q</code> (tho√°t)</li>
            </ul>
        </section>

        <section id="cs-client-implementation" class="md-section">
            <h2 class="heading-2">2. Tri·ªÉn khai Client C#</h2>

            <h3 class="heading-3">B∆∞·ªõc 1: Hi·ªÉu Giao th·ª©c Chia s·∫ª</h3>
            <p class="paragraph">Client s·ª≠ d·ª•ng <strong class="text-strong">t·ªáp Tank.PIDL gi·ªëng nhau</strong> v·ªõi server, ƒë·∫£m b·∫£o t∆∞∆°ng th√≠ch giao th·ª©c ho√†n h·∫£o:</p>

            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">ƒê·ªãnh nghƒ©a RMI gi·ªëng nhau</strong>: C·∫£ server v√† client hi·ªÉu c√°c ch·ªØ k√Ω h√†m gi·ªëng h·ªát nhau</li>
                <li class="list-item"><strong class="text-strong">L·ªõp stub/proxy chia s·∫ª</strong>: Script <code class="inline-code">CompilePIDL_cs.bat</code> t·∫°o m√£ m·∫°ng gi·ªëng h·ªát nhau cho c·∫£ hai d·ª± √°n</li>
                <li class="list-item"><strong class="text-strong">ƒê·ªìng b·ªô h√≥a giao th·ª©c</strong>: B·∫•t k·ª≥ thay ƒë·ªïi n√†o ƒë·ªëi v·ªõi Tank.PIDL t·ª± ƒë·ªông c·∫≠p nh·∫≠t c·∫£ server v√† client khi bi√™n d·ªãch l·∫°i</li>
            </ul>

            <p class="paragraph">C√°ch ti·∫øp c·∫≠n n√†y ƒë·∫£m b·∫£o r·∫±ng:</p>
            <ul class="unordered-list">
                <li class="list-item">Server v√† client lu√¥n s·ª≠ d·ª•ng giao th·ª©c m·∫°ng t∆∞∆°ng th√≠ch</li>
                <li class="list-item">Cu·ªôc g·ªçi h√†m RMI an to√†n v·ªÅ ki·ªÉu v√† ƒë∆∞·ª£c x√°c th·ª±c t·∫°i th·ªùi ƒëi·ªÉm bi√™n d·ªãch</li>
                <li class="list-item">ƒê·ªãnh d·∫°ng tin nh·∫Øn m·∫°ng nh·∫•t qu√°n gi·ªØa c·∫£ hai ·ª©ng d·ª•ng</li>
            </ul>

            <h3 class="heading-3">B∆∞·ªõc 2: X√¢y d·ª±ng Client</h3>
            <p class="paragraph">ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn th∆∞ m·ª•c Client v√† x√¢y d·ª±ng:</p>

            <div class="code-block">
                <pre>cd tank_server/Client  
build.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Client [master +5 ~14 -15 !]> .\build.bat
========================================
Tank Client Build Script
========================================
Build configuration: Debug
Building Tank Client...
Restore complete (0.3s)
  TankClient succeeded (0.2s) ‚Üí bin\Debug\net9.0\TankClient.dll

Build succeeded in 0.8s
Build completed successfully!
Using build output path: bin\Debug\net9.0
Build output directory exists: bin\Debug\net9.0
ProudNet DotNet directory exists: ..\..\ProudNet\lib\DotNet
ProudNet x64 directory exists: ..\..\ProudNet\lib\DotNet\x64
========================================
Copying ProudNet DLLs...
========================================
Copying libcrypto-3-x64.dll...
        1 file(s) copied.
Copying libssl-3-x64.dll...
        1 file(s) copied.
Copying ProudDotNetClient.dll...
        1 file(s) copied.
Copying ProudDotNetClient.pdb...
        1 file(s) copied.
Copying ProudDotNetServer.dll...
        1 file(s) copied.
Copying ProudNetClient.dll...
        1 file(s) copied.
Copying ProudNetClientPlugin.dll...
        1 file(s) copied.
Copying ProudNetServer.dll...
        1 file(s) copied.
========================================
Build and DLL copy completed!
========================================

Output directory: bin\Debug\net9.0
You can now run the Tank Client executable.

Press any key to continue . . .</pre>
            </div>

            <p class="paragraph">Script x√¢y d·ª±ng client th·ª±c hi·ªán c√°c thao t√°c gi·ªëng nh∆∞ server:</p>
            <ul class="unordered-list">
                <li class="list-item">Bi√™n d·ªãch d·ª± √°n C# s·ª≠ d·ª•ng <code class="inline-code">dotnet build --configuration Debug</code></li>
                <li class="list-item">Sao ch√©p c√°c DLL ProudNet gi·ªëng nhau ƒë·ªÉ ƒë·∫£m b·∫£o t∆∞∆°ng th√≠ch runtime</li>
                <li class="list-item">S·ª≠ d·ª•ng c√°c l·ªõp stub/proxy ƒë∆∞·ª£c t·∫°o t·ª´ bi√™n d·ªãch PIDL</li>
            </ul>

            <h3 class="heading-3">B∆∞·ªõc 3: Ch·∫°y Client</h3>
            <div class="code-block">
                <pre>cd tank_server/Client/bin/Debug/net9.0
TankClient.exe</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Client [master +6 ~14 -15 !]> .\bin\Debug\net9.0\TankClient.exe
Connecting to server...
Commands:
move x y dir : Move tank to position (x,y) with direction dir
fire dir [force] : Fire in direction dir with optional force (default 25.0)
tank n       : Select tank type (0-3)
health h [max]: Update tank health to h with optional max health
destroy [id] : Send tank destroyed event (id of destroyer, default 0 = environment)
spawn x y dir type health: Spawn/respawn tank
msg text     : Send P2P message to other clients
history      : Show message history
status       : Show P2P connection status
auto         : Toggle auto movement
q            : Quit
Connected to server. My ID: 3</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">üîç Ki·ªÉm tra K·∫øt n·ªëi Server:</strong></p>
            <p class="paragraph">Khi client k·∫øt n·ªëi th√†nh c√¥ng, b·∫°n c≈©ng s·∫Ω th·∫•y tin nh·∫Øn k·∫øt n·ªëi tr√™n <strong class="text-strong">console server</strong>:</p>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Console Server:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server [master +5 ~14 -15 !]> .\bin\Debug\net9.0\TankServer.exe
Tank Server started on port 33334
Server is running. Commands:
status: Show connected clients
health [id]: Show tank health (all or specific ID)
damage id amount: Apply damage to a tank
heal id amount: Heal a tank
respawn id x y: Respawn a tank at position (x,y)
q: Quit server
Client 3 connected
New tank created for client 3 with tank type -1 and health 100/100
Not enough clients to create P2P group (need at least 2)</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">üìù Gi·∫£i th√≠ch Log Server:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">Client 3 connected</code> - M·ªôt client m·ªõi ƒë√£ k·∫øt n·ªëi th√†nh c√¥ng v√† ƒë∆∞·ª£c g√°n ID 3</li>
                <li class="list-item"><code class="inline-code">New tank created for client 3 with tank type -1 and health 100/100</code> - Server t·∫°o ƒë·ªëi t∆∞·ª£ng tank cho client m·ªõi:
                    <ul class="unordered-list">
                        <li class="list-item">Tank type <code class="inline-code">-1</code> c√≥ nghƒ©a l√† ch∆∞a ch·ªçn lo·∫°i tank n√†o</li>
                        <li class="list-item">S·ª©c kh·ªèe ban ƒë·∫ßu ƒë∆∞·ª£c ƒë·∫∑t th√†nh 100/100 (hi·ªán t·∫°i/t·ªëi ƒëa)</li>
                    </ul>
                </li>
                <li class="list-item"><code class="inline-code">Not enough clients to create P2P group (need at least 2)</code> - T·∫°o nh√≥m P2P y√™u c·∫ßu √≠t nh·∫•t 2 client ƒë·ªÉ giao ti·∫øp ngang h√†ng</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üí° ƒê·ªÉ ki·ªÉm tra ch·ª©c nƒÉng P2P:</strong></p>
            <p class="paragraph">Ch·∫°y <strong class="text-strong">client th·ª© hai</strong> trong terminal kh√°c ƒë·ªÉ xem:</p>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Client Th·ª© hai:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Client [master +5 ~14 -15 !]> .\bin\Debug\net9.0\TankClient.exe          
Connecting to server...                                                                                                                                                                                                                             
Commands:                                                                                                                                                                                                                                           
move x y dir : Move tank to position (x,y) with direction dir                                                                                                                                                                                       
fire dir [force] : Fire in direction dir with optional force (default 25.0)
tank n       : Select tank type (0-3)
health h [max]: Update tank health to h with optional max health
destroy [id] : Send tank destroyed event (id of destroyer, default 0 = environment)
spawn x y dir type health: Spawn/respawn tank
msg text     : Send P2P message to other clients
history      : Show message history
status       : Show P2P connection status
auto         : Toggle auto movement
q            : Quit
Connected to server. My ID: 4
P2P: Member 4 joined group 5
P2P: Member 3 joined group 5
P2P: Added member 3 to group member list
OnPlayerJoined: Tank 3 joined at (12.939716,28.795837) with tank type -1
OnTankHealthUpdated: Tank 3 health: 100/100
P2P: Received group info, Group ID: 5</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Console Server ƒë∆∞·ª£c C·∫≠p nh·∫≠t:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server [master +5 ~14 -15 !]> .\bin\Debug\net9.0\TankServer.exe
Tank Server started on port 33334
Server is running. Commands:
status: Show connected clients
health [id]: Show tank health (all or specific ID)
damage id amount: Apply damage to a tank
heal id amount: Heal a tank
respawn id x y: Respawn a tank at position (x,y)
q: Quit server
Client 3 connected
New tank created for client 3 with tank type -1 and health 100/100
Not enough clients to create P2P group (need at least 2)
Client 4 connected
New tank created for client 4 with tank type -1 and health 100/100
Sending existing player info to new client: ID=3, Type=-1, Health=100/100
Notifying existing client 3 about new player: ID=4, Type=-1, Health=100/100
P2P group created with 2 members, Group ID: 5
Sent P2P group info to client 3: P2P_GROUP_INFO:5
Sent P2P group info to client 4: P2P_GROUP_INFO:5</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">üìù Ph√¢n t√≠ch K·∫øt n·ªëi ƒêa Client:</strong></p>

            <p class="paragraph"><strong class="text-strong">Khi client th·ª© hai k·∫øt n·ªëi:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Client 4 k·∫øt n·ªëi</strong> - Server g√°n ID m·ªõi v√† t·∫°o ƒë·ªëi t∆∞·ª£ng tank</li>
                <li class="list-item"><strong class="text-strong">ƒê·ªìng b·ªô h√≥a ng∆∞·ªùi ch∆°i</strong> - Server trao ƒë·ªïi th√¥ng tin ng∆∞·ªùi ch∆°i:
                    <ul class="unordered-list">
                        <li class="list-item">G·ª≠i th√¥ng tin ng∆∞·ªùi ch∆°i hi·ªán c√≥ (Client 3) ƒë·∫øn client m·ªõi (Client 4)</li>
                        <li class="list-item">Th√¥ng b√°o cho client hi·ªán c√≥ (Client 3) v·ªÅ ng∆∞·ªùi ch∆°i m·ªõi (Client 4)</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">T·∫°o nh√≥m P2P</strong> - B√¢y gi·ªù c√≥ 2+ client:
                    <ul class="unordered-list">
                        <li class="list-item">Server t·∫°o nh√≥m P2P v·ªõi ID 5</li>
                        <li class="list-item">C·∫£ hai client nh·∫≠n th√¥ng tin nh√≥m P2P</li>
                        <li class="list-item">Client b√¢y gi·ªù c√≥ th·ªÉ giao ti·∫øp tr·ª±c ti·∫øp qua tin nh·∫Øn P2P</li>
                    </ul>
                </li>
            </ol>

            <p class="paragraph"><strong class="text-strong">S·ª± ki·ªán P2P ph√≠a Client:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">P2P: Member X joined group Y</code> - Th√¥ng b√°o th√†nh vi√™n nh√≥m P2P</li>
                <li class="list-item"><code class="inline-code">OnPlayerJoined: Tank 3 joined at (x,y)</code> - Nh·∫≠n th√¥ng tin v·ªÅ ng∆∞·ªùi ch∆°i hi·ªán c√≥</li>
                <li class="list-item"><code class="inline-code">OnTankHealthUpdated: Tank 3 health: 100/100</code> - Nh·∫≠n tr·∫°ng th√°i s·ª©c kh·ªèe c·ªßa tank kh√°c</li>
                <li class="list-item"><code class="inline-code">P2P: Received group info, Group ID: 5</code> - X√°c nh·∫≠n thi·∫øt l·∫≠p nh√≥m P2P</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üéÆ B√¢y gi·ªù b·∫°n c√≥ th·ªÉ ki·ªÉm tra t√≠nh nƒÉng ƒëa ng∆∞·ªùi ch∆°i:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">S·ª≠ d·ª•ng <code class="inline-code">msg hello</code> trong m·ªôt client ƒë·ªÉ g·ª≠i tin nh·∫Øn P2P ƒë·∫øn nh·ªØng client kh√°c</li>
                <li class="list-item">S·ª≠ d·ª•ng <code class="inline-code">move x y dir</code> ƒë·ªÉ xem c·∫≠p nh·∫≠t v·ªã tr√≠ qua c√°c client</li>
                <li class="list-item">S·ª≠ d·ª•ng <code class="inline-code">fire dir</code> ƒë·ªÉ ki·ªÉm tra ƒë·ªìng b·ªô h√≥a ƒë·∫°n</li>
            </ul>
        </section>

        <section id="cpp-server-implementation" class="md-section">
            <h2 class="heading-2">3. Tri·ªÉn khai Server C++ (T√πy ch·ªçn)</h2>

            <p class="paragraph">Tri·ªÉn khai server C++ cung c·∫•p <strong class="text-strong">ch·ª©c nƒÉng gi·ªëng h·ªát</strong> nh∆∞ server C#, mang l·∫°i h·ªó tr·ª£ ƒëa n·ªÅn t·∫£ng v√† t√πy ch·ªçn tri·ªÉn khai container h√≥a. ƒê√¢y l√† tri·ªÉn khai n√¢ng cao t√πy ch·ªçn th·ªÉ hi·ªán kh·∫£ nƒÉng ƒëa ng√¥n ng·ªØ c·ªßa ProudNet.</p>

            <h3 class="heading-3">T∆∞∆°ng th√≠ch Giao th·ª©c</h3>
            <p class="paragraph">V√¨ c·∫£ server C# v√† C++ ƒë·ªÅu s·ª≠ d·ª•ng <strong class="text-strong">c√πng t·ªáp Tank.PIDL</strong>, ch√∫ng ho√†n to√†n t∆∞∆°ng th√≠ch:</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">H√†m RMI gi·ªëng nhau</strong>: ƒê·ªãnh nghƒ©a giao th·ª©c m·∫°ng gi·ªëng h·ªát nhau</li>
                <li class="list-item"><strong class="text-strong">T∆∞∆°ng th√≠ch client</strong>: Client C# c√≥ th·ªÉ k·∫øt n·ªëi v·ªõi server C# ho·∫∑c C++ m·ªôt c√°ch li·ªÅn m·∫°ch</li>
                <li class="list-item"><strong class="text-strong">T√≠nh nƒÉng ngang b·∫±ng</strong>: Di chuy·ªÉn, b·∫Øn s√∫ng, tin nh·∫Øn P2P v√† t·∫•t c·∫£ c∆° ch·∫ø game ho·∫°t ƒë·ªông gi·ªëng h·ªát nhau</li>
            </ul>

            <h3 class="heading-3">∆Øu ƒëi·ªÉm Ch√≠nh c·ªßa Tri·ªÉn khai C++</h3>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">H·ªó tr·ª£ ƒëa n·ªÅn t·∫£ng</strong>: Ch·∫°y tr√™n Windows, Linux v√† m√¥i tr∆∞·ªùng container h√≥a</li>
                <li class="list-item"><strong class="text-strong">T·ªëi ∆∞u h√≥a hi·ªáu su·∫•t</strong>: Hi·ªáu su·∫•t C++ g·ªëc cho c√°c t√¨nh hu·ªëng t·∫£i cao</li>
                <li class="list-item"><strong class="text-strong">Tri·ªÉn khai s·∫£n xu·∫•t</strong>: Container h√≥a Docker cho c∆° s·ªü h·∫° t·∫ßng server c√≥ th·ªÉ m·ªü r·ªông</li>
                <li class="list-item"><strong class="text-strong">T∆∞∆°ng th√≠ch Linux</strong>: Tri·ªÉn khai tr√™n server Ubuntu/Linux m√† kh√¥ng c·∫ßn ph·ª• thu·ªôc .NET</li>
            </ul>

            <h3 class="heading-3">B∆∞·ªõc 1: T·∫°o c√°c L·ªõp Stub v√† Proxy C++</h3>
            <p class="paragraph">ƒê·∫ßu ti√™n, t·∫°o m√£ m·∫°ng C++ t·ª´ t·ªáp PIDL:</p>

            <div class="code-block">
                <pre>cd tank_server/Common
CompilePIDL_cpp.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Common [master +5 ~14 -15 !]> .\CompilePIDL_cpp.bat
[INFO] Generating C++ files from Tank.PIDL...
[INFO] PIDL C++ compilation complete!
[INFO] Generated files in ..\Server_CPP\include directory.
Press any key to continue . . .</pre>
            </div>

            <p class="paragraph">ƒêi·ªÅu n√†y s·∫Ω t·∫°o c√°c l·ªõp stub/proxy C++ trong th∆∞ m·ª•c <code class="inline-code">Server_CPP/include/</code>:</p>
            <ul class="unordered-list">
                <li class="list-item"><code class="inline-code">Tank_stub.cpp/.h</code> - X·ª≠ l√Ω c√°c cu·ªôc g·ªçi RMI ƒë·∫øn</li>
                <li class="list-item"><code class="inline-code">Tank_proxy.cpp/.h</code> - G·ª≠i c√°c cu·ªôc g·ªçi RMI ƒëi</li>
                <li class="list-item"><code class="inline-code">Tank_common.cpp/.h</code> - ƒê·ªãnh nghƒ©a v√† h·∫±ng s·ªë chung</li>
            </ul>

            <h3 class="heading-3">B∆∞·ªõc 2: X√¢y d·ª±ng Server C++ (Windows)</h3>

            <h4 class="heading-4">ƒêi·ªÅu ki·ªán ti√™n quy·∫øt cho X√¢y d·ª±ng Windows</h4>
            <p class="paragraph">Tr∆∞·ªõc khi x√¢y d·ª±ng server C++, h√£y ƒë·∫£m b·∫£o b·∫°n ƒë√£ c√†i ƒë·∫∑t c√°c th√†nh ph·∫ßn sau:</p>

            <p class="paragraph"><strong class="text-strong">Ph·∫ßn m·ªÅm y√™u c·∫ßu:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Visual Studio 2022</strong> (Community/Professional/Enterprise)
                    <ul class="unordered-list">
                        <li class="list-item">C≈©ng h·ªó tr·ª£ VS 2019, 2017, 2015</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">CMake 3.10 ho·∫∑c cao h∆°n</strong></li>
                <li class="list-item"><strong class="text-strong">Windows SDK 10.0</strong> (khuy·∫øn ngh·ªã phi√™n b·∫£n m·ªõi nh·∫•t)</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">Th√†nh ph·∫ßn Visual Studio y√™u c·∫ßu:</strong></p>
            <p class="paragraph">Khi c√†i ƒë·∫∑t Visual Studio, h√£y ƒë·∫£m b·∫£o bao g·ªìm c√°c workload v√† th√†nh ph·∫ßn sau:</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Desktop development with C++</strong> workload</li>
                <li class="list-item"><strong class="text-strong">MSVC v143 - VS 2022 C++ x64/x86 build tools</strong> (m·ªõi nh·∫•t)</li>
                <li class="list-item"><strong class="text-strong">Windows 11 SDK</strong> (ho·∫∑c Windows 10 SDK)</li>
                <li class="list-item"><strong class="text-strong">ATL for v143 build tools (x86 & x64)</strong> - <em class="text-emphasis">Y√™u c·∫ßu cho vi·ªác li√™n k·∫øt ProudNet</em></li>
                <li class="list-item"><strong class="text-strong">CMake tools for C++</strong></li>
                <li class="list-item"><strong class="text-strong">Git for Windows</strong> (t√πy ch·ªçn, cho qu·∫£n l√Ω phi√™n b·∫£n)</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">Ghi ch√∫ quan tr·ªçng v·ªÅ ATL:</strong></p>
            <p class="paragraph">Active Template Library (ATL) l√† th√†nh ph·∫ßn thi·∫øt y·∫øu cho vi·ªác li√™n k·∫øt ProudNet tr√™n Windows. Trong CMakeLists.txt, b·∫°n c√≥ th·ªÉ th·∫•y n√≥ ƒë∆∞·ª£c li√™n k·∫øt r√µ r√†ng:</p>
            <div class="code-block">
                <pre>target_link_libraries(TankGameServer
    # ... other libraries ...
    atls       # ATL library addition
)</pre>
            </div>

            <h4 class="heading-4">Quy tr√¨nh X√¢y d·ª±ng</h4>
            <p class="paragraph">ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn th∆∞ m·ª•c Server_CPP v√† x√¢y d·ª±ng b·∫±ng script ƒë∆∞·ª£c cung c·∫•p:</p>

            <div class="code-block">
                <pre>cd tank_server/Server_CPP
build.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ X√¢y d·ª±ng Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP [master +5 ~14 -15 !]> .\build.bat
[INFO] =========================================
[INFO] Starting TankGameServer C++ Build...
[INFO] =========================================
[INFO] Detecting Visual Studio installation...
[INFO] Visual Studio 2022 Community found
[INFO] Setting up VS2022 environment...
**********************************************************************
** Visual Studio 2022 Developer Command Prompt v17.14.0
** Copyright (c) 2022 Microsoft Corporation
**********************************************************************
[vcvarsall.bat] Environment initialized for: 'x64'
[INFO] Using Visual Studio 2022 with generator: NMake Makefiles
[INFO] ProudNet Path: C:\Users\wayne\Documents\proud_tank\ProudNet
[INFO] Build Type: Release
[INFO] Using: Visual Studio 2022 with NMake Makefiles
[INFO] Checking and generating PIDL files...
[INFO] Compiling PIDL files...
[INFO] Generating C++ files from Tank.PIDL...
[INFO] PIDL C++ compilation complete
[INFO] Generated files in ..\Server_CPP\include directory.
Press any key to continue . . .
[INFO] Creating build directory...
[INFO] Removing existing build directory...
[INFO] Configuring CMake...
[INFO] Using NMake Makefiles generator
-- The C compiler identification is MSVC 19.44.35207.1
-- The CXX compiler identification is MSVC 19.44.35207.1
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.44.35207/bin/Hostx64/x64/cl.exe - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.44.35207/bin/Hostx64/x64/cl.exe - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Building on Windows - Using OpenSSL and CURL from ProudNet
-- System check: Windows
-- Current working directory: C:/Users/wayne/Documents/proud_tank/tank_server/Server_CPP
-- Build type: Release
-- ProudNet Path: C:\Users\wayne\Documents\proud_tank\ProudNet
-- Operating System: Windows
-- Using Visual Studio version from command line: 2022
-- Found Visual Studio installation: C:/Program Files/Microsoft Visual Studio/2022/Community
-- Visual Studio Path: C:/Program Files/Microsoft Visual Studio/2022/Community
-- Using Release Library Path: C:\Users\wayne\Documents\proud_tank\ProudNet/lib/x64/v140/Release
-- Configuring done
-- Generating done
-- Build files have been written to: C:/Users/wayne/Documents/proud_tank/tank_server/Server_CPP/build
[INFO] Building project...
[ 33%] Building CXX object CMakeFiles/TankGameServer.dir/src/TankServer.cpp.obj
TankServer.cpp
[ 66%] Building CXX object CMakeFiles/TankGameServer.dir/C_/Users/wayne/Documents/proud_tank/tank_server/Common/Vars.cpp.obj
Vars.cpp
[100%] Linking CXX executable TankServer.exe
[100%] Built target TankGameServer
[INFO] Build successful
[INFO] Executable: C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP\build\Release\TankGameServer.exe
[INFO] Copying required DLL files...
[INFO] =========================================
[INFO] Build completed
[INFO] Executable: C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP\build\TankServer.exe
[INFO] =========================================
Press any key to continue . . .</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Ph√¢n t√≠ch Quy tr√¨nh X√¢y d·ª±ng:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Ph√°t hi·ªán Visual Studio</strong>: T·ª± ƒë·ªông ph√°t hi·ªán c√†i ƒë·∫∑t VS 2022 Community</li>
                <li class="list-item"><strong class="text-strong">Thi·∫øt l·∫≠p M√¥i tr∆∞·ªùng</strong>: Kh·ªüi t·∫°o VS 2022 Developer Command Prompt v·ªõi c√¥ng c·ª• x64</li>
                <li class="list-item"><strong class="text-strong">Bi√™n d·ªãch PIDL</strong>: T·ª± ƒë·ªông t·∫°o c√°c l·ªõp stub/proxy C++</li>
                <li class="list-item"><strong class="text-strong">C·∫•u h√¨nh CMake</strong>: S·ª≠ d·ª•ng tr√¨nh t·∫°o NMake Makefiles cho tr√¨nh bi√™n d·ªãch MSVC</li>
                <li class="list-item"><strong class="text-strong">Bi√™n d·ªãch</strong>: X√¢y d·ª±ng <code class="inline-code">TankServer.cpp</code> v√† <code class="inline-code">Vars.cpp</code> v·ªõi ti√™u chu·∫©n C++17</li>
                <li class="list-item"><strong class="text-strong">Li√™n k·∫øt</strong>: Li√™n k·∫øt v·ªõi th∆∞ vi·ªán ProudNet, th∆∞ vi·ªán h·ªá th·ªëng Windows v√† ATL</li>
                <li class="list-item"><strong class="text-strong">Sao ch√©p DLL</strong>: Sao ch√©p c√°c DLL ProudNet c·∫ßn thi·∫øt v√†o th∆∞ m·ª•c th·ª±c thi</li>
            </ol>

            <p class="paragraph">Script x√¢y d·ª±ng s·∫Ω:</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Ph√°t hi·ªán c√†i ƒë·∫∑t Visual Studio</strong> t·ª± ƒë·ªông (2015-2022)</li>
                <li class="list-item"><strong class="text-strong">Thi·∫øt l·∫≠p m√¥i tr∆∞·ªùng x√¢y d·ª±ng</strong> v·ªõi vcvarsall.bat</li>
                <li class="list-item"><strong class="text-strong">T·∫°o t·ªáp PIDL</strong> t·ª± ƒë·ªông tr∆∞·ªõc khi c·∫•u h√¨nh CMake</li>
                <li class="list-item"><strong class="text-strong">T·∫°o th∆∞ m·ª•c x√¢y d·ª±ng</strong> v√† c·∫•u h√¨nh CMake v·ªõi NMake Makefiles</li>
                <li class="list-item"><strong class="text-strong">Bi√™n d·ªãch t·ªáp ngu·ªìn C++</strong> v·ªõi tr√¨nh bi√™n d·ªãch MSVC</li>
                <li class="list-item"><strong class="text-strong">Li√™n k·∫øt v·ªõi th∆∞ vi·ªán ProudNet</strong> v√† th∆∞ vi·ªán h·ªá th·ªëng Windows:
                    <ul class="unordered-list">
                        <li class="list-item"><code class="inline-code">ProudNetServer.lib</code>, <code class="inline-code">ProudNetClient.lib</code></li>
                        <li class="list-item"><code class="inline-code">ws2_32</code> (Windows Sockets), <code class="inline-code">winmm</code> (Multimedia), <code class="inline-code">iphlpapi</code> (IP Helper)</li>
                        <li class="list-item"><code class="inline-code">atls</code> (Active Template Library)</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">Sao ch√©p c√°c DLL ProudNet c·∫ßn thi·∫øt</strong> v√†o th∆∞ m·ª•c ƒë·∫ßu ra</li>
            </ul>

            <h3 class="heading-3">B∆∞·ªõc 3: Ch·∫°y Server C++ (Windows)</h3>

            <div class="code-block">
                <pre>cd tank_server/Server_CPP
run.bat</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Server Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP [master +5 ~14 -15 !]> .\run.bat
[INFO] Starting TankGameServer C++ Server...
[INFO] Found executable at build\TankServer.exe (NMake build
[INFO] Server is starting. Press 'q' to quit.
[INFO] Running: C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP\build\TankServer.exe
========== Tank Server Started ==========
TCP Server listening on 0.0.0.0:33334
WebSocket Server listening on 0.0.0.0:33335/ws
Ready to accept connections from all network interfaces
==========================================
Server is running. Commands:
status: Show connected clients
health [id]: Show tank health (all or specific ID)
damage id amount: Apply damage to a tank
heal id amount: Heal a tank
respawn id x y: Respawn a tank at position (x,y)
q: Quit server</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Ph√¢n t√≠ch Kh·ªüi ƒë·ªông Server:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Ph√°t hi·ªán Th·ª±c thi</strong>: <code class="inline-code">run.bat</code> t·ª± ƒë·ªông t√¨m ki·∫øm t·ªáp th·ª±c thi ƒë√£ ƒë∆∞·ª£c x√¢y d·ª±ng</li>
                <li class="list-item"><strong class="text-strong">Li√™n k·∫øt M·∫°ng</strong>: Server li√™n k·∫øt v·ªõi t·∫•t c·∫£ giao di·ªán m·∫°ng (0.0.0.0)
                    <ul class="unordered-list">
                        <li class="list-item"><strong class="text-strong">TCP Server</strong>: C·ªïng 33334 cho k·∫øt n·ªëi game</li>
                        <li class="list-item"><strong class="text-strong">WebSocket Server</strong>: C·ªïng 33335/ws cho h·ªó tr·ª£ web client</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">Giao di·ªán L·ªánh</strong>: C√°c l·ªánh server gi·ªëng nh∆∞ phi√™n b·∫£n C#</li>
                <li class="list-item"><strong class="text-strong">Tr·∫°ng th√°i S·∫µn s√†ng</strong>: Server s·∫µn s√†ng ch·∫•p nh·∫≠n k·∫øt n·ªëi client</li>
            </ol>

            <h3 class="heading-3">B∆∞·ªõc 4: Ki·ªÉm tra T∆∞∆°ng th√≠ch Client C#</h3>

            <p class="paragraph"><strong class="text-strong">üîÑ X√°c minh T∆∞∆°ng th√≠ch Giao th·ª©c:</strong></p>
            <p class="paragraph">Server C++ ho√†n to√†n t∆∞∆°ng th√≠ch v·ªõi c√°c client C# hi·ªán c√≥. B·∫°n c√≥ th·ªÉ k·∫øt n·ªëi <strong class="text-strong">c√°c client C# gi·ªëng nhau</strong> t·ª´ B∆∞·ªõc 2 v·ªõi server C++ n√†y m√† kh√¥ng c·∫ßn b·∫•t k·ª≥ thay ƒë·ªïi n√†o.</p>

            <p class="paragraph"><strong class="text-strong">K·∫øt n·ªëi Client C# v·ªõi Server C++:</strong></p>
            <div class="code-block">
                <pre># In another terminal, run the C# client
cd tank_server/Client/bin/Debug/net9.0
TankClient.exe</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Log Console Server C++ (K·∫øt n·ªëi Client):</strong></p>
            <div class="code-block">
                <pre>Client 3 connected from 127.0.0.1:52341
New tank created for client 3 with tank type -1 and health 100/100
Not enough clients to create P2P group (need at least 2)</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Ph√¢n t√≠ch Log Server:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">X·ª≠ l√Ω Client T∆∞∆°ng ƒë·ªìng</strong>: Server C++ x·ª≠ l√Ω k·∫øt n·ªëi client ho√†n to√†n gi·ªëng nh∆∞ server C#</li>
                <li class="list-item"><strong class="text-strong">T·∫°o Tank Gi·ªëng h·ªát</strong>: T·∫°o ƒë·ªëi t∆∞·ª£ng tank v·ªõi tr·∫°ng th√°i ban ƒë·∫ßu t∆∞∆°ng ƒë·ªìng (s·ª©c kh·ªèe 100/100, lo·∫°i -1)</li>
                <li class="list-item"><strong class="text-strong">ƒê·ªìng b·ªô h√≥a Ng∆∞·ªùi ch∆°i</strong>: Trao ƒë·ªïi th√¥ng tin ng∆∞·ªùi ch∆°i gi·ªØa c√°c client t∆∞∆°ng ƒë·ªìng</li>
                <li class="list-item"><strong class="text-strong">Qu·∫£n l√Ω Nh√≥m P2P</strong>: T·∫°o nh√≥m P2P v·ªõi logic gi·ªëng h·ªát nhau v√† g√°n ID nh√≥m</li>
                <li class="list-item"><strong class="text-strong">T∆∞∆°ng th√≠ch Giao th·ª©c</strong>: T·∫•t c·∫£ h√†m RMI v√† ƒë·ªãnh d·∫°ng tin nh·∫Øn ho·∫°t ƒë·ªông li·ªÅn m·∫°ch</li>
            </ol>

            <p class="paragraph"><strong class="text-strong">‚úÖ T√≠nh nƒÉng Ho√†n to√†n Ngang b·∫±ng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">T·∫•t c·∫£ l·ªánh di chuy·ªÉn, b·∫Øn s√∫ng v√† nh·∫Øn tin ho·∫°t ƒë·ªông t∆∞∆°ng ƒë·ªìng</li>
                <li class="list-item">T·∫°o v√† qu·∫£n l√Ω nh√≥m P2P ho·∫°t ƒë·ªông gi·ªëng h·ªát nhau</li>
                <li class="list-item">L·ªánh server (<code class="inline-code">status</code>, <code class="inline-code">health</code>, <code class="inline-code">damage</code>, <code class="inline-code">heal</code>, <code class="inline-code">respawn</code>) ho·∫°t ƒë·ªông t∆∞∆°ng ƒë·ªìng</li>
                <li class="list-item">X·ª≠ l√Ω k·∫øt n·ªëi client v√† qu·∫£n l√Ω tr·∫°ng th√°i t∆∞∆°ng ƒë·ªìng</li>
                <li class="list-item">T·∫°o tank, theo d√µi s·ª©c kh·ªèe v√† logic game ho√†n to√†n gi·ªëng h·ªát nhau</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üéØ ƒêi·ªÅu n√†y ch·ª©ng minh r·∫±ng server C++ l√† s·ª± thay th·∫ø ho√†n to√†n cho server C# v·ªõi 100% t∆∞∆°ng th√≠ch giao th·ª©c.</strong></p>

            <h3 class="heading-3">B∆∞·ªõc 5: Tri·ªÉn khai Docker (Linux/Ubuntu)</h3>

            <p class="paragraph">Server C++ c√≥ th·ªÉ ƒë∆∞·ª£c tri·ªÉn khai nh∆∞ m·ªôt container Docker tr√™n Ubuntu 24.04 cho m√¥i tr∆∞·ªùng s·∫£n xu·∫•t.</p>

            <h4 class="heading-4">ƒêi·ªÅu ki·ªán ti√™n quy·∫øt cho Tri·ªÉn khai Docker</h4>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Docker Desktop</strong> (Windows) ho·∫∑c <strong class="text-strong">Docker Engine</strong> (Linux)</li>
                <li class="list-item"><strong class="text-strong">Docker Compose</strong> cho ƒëi·ªÅu ph·ªëi</li>
            </ul>

            <h4 class="heading-4">Thi·∫øt l·∫≠p Docker tr√™n Windows</h4>
            <p class="paragraph">N·∫øu ch·∫°y tr√™n Windows, h√£y ƒë·∫£m b·∫£o Docker ƒë∆∞·ª£c c·∫•u h√¨nh cho container Linux:</p>

            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">C√†i ƒë·∫∑t Docker Desktop</strong> t·ª´ trang web ch√≠nh th·ª©c</li>
                <li class="list-item"><strong class="text-strong">Chuy·ªÉn sang container Linux</strong>:
                    <ul class="unordered-list">
                        <li class="list-item">Nh·∫•p chu·ªôt ph·∫£i v√†o bi·ªÉu t∆∞·ª£ng Docker Desktop trong khay h·ªá th·ªëng</li>
                        <li class="list-item">Ch·ªçn "Switch to Linux containers..."</li>
                        <li class="list-item">ƒê·ª£i Docker kh·ªüi ƒë·ªông l·∫°i trong ch·∫ø ƒë·ªô container Linux</li>
                    </ul>
                </li>
            </ol>

            <h4 class="heading-4">C·∫•u h√¨nh Gi·∫•y ph√©p ProudNet (T√πy ch·ªçn)</h4>

            <p class="paragraph">Theo m·∫∑c ƒë·ªãnh, server ch·∫°y trong <strong class="text-strong">ch·∫ø ƒë·ªô gi·ªõi h·∫°n 50 CCU</strong> m√† kh√¥ng c√≥ kh√≥a gi·∫•y ph√©p. ƒê·ªëi v·ªõi tri·ªÉn khai s·∫£n xu·∫•t v·ªõi ng∆∞·ªùi d√πng ƒë·ªìng th·ªùi kh√¥ng gi·ªõi h·∫°n, b·∫°n c√≥ th·ªÉ c·∫•u h√¨nh gi·∫•y ph√©p ProudNet:</p>

            <p class="paragraph"><strong class="text-strong">B∆∞·ªõc 1: Thi·∫øt l·∫≠p Kh√≥a Gi·∫•y ph√©p</strong></p>
            <p class="paragraph">Ch·ªânh s·ª≠a t·ªáp <code class="inline-code">tank_server/licensekey.txt</code>:</p>

            <div class="code-block">
                <pre># Default content (50 CCU limitation): Replace with your actual ProudNet license key:
PUT_YOUR_PROUDNET_LICENSE_KEY_HERE</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">B∆∞·ªõc 2: X√°c th·ª±c Gi·∫•y ph√©p</strong></p>
            <p class="paragraph">Quy tr√¨nh x√¢y d·ª±ng Docker t·ª± ƒë·ªông ph√°t hi·ªán v√† √°p d·ª•ng gi·∫•y ph√©p:</p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">C√≥ Gi·∫•y ph√©p</strong>: CCU kh√¥ng gi·ªõi h·∫°n, ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng ProudNet</li>
                <li class="list-item"><strong class="text-strong">Kh√¥ng c√≥ Gi·∫•y ph√©p</strong>: Gi·ªõi h·∫°n 50 CCU, ch·∫ø ƒë·ªô ph√°t tri·ªÉn</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Docker Mong ƒë·ª£i c√≥ Gi·∫•y ph√©p:</strong></p>
            <div class="code-block">
                <pre>tank-server-1  | License key found: /app/licensekey.txt
tank-server-1  | ProudNet license validation successful
tank-server-1  | Starting server with full license (unlimited CCU)</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Docker Mong ƒë·ª£i kh√¥ng c√≥ Gi·∫•y ph√©p (M·∫∑c ƒë·ªãnh):</strong></p>
            <div class="code-block">
                <pre>tank-server-1  | License key file not found: /app/licensekey.txt
tank-server-1  | Building without ProudNet license.
tank-server-1  | Starting server without license (50 CCU limitation mode).</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">üîë L·ª£i √≠ch Gi·∫•y ph√©p:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">TƒÉng CCU</strong>: Gi·ªõi h·∫°n k·∫øt n·ªëi ƒë·ªìng th·ªùi cao h∆°n d·ª±a tr√™n lo·∫°i gi·∫•y ph√©p</li>
                <li class="list-item"><strong class="text-strong">T√≠nh nƒÉng S·∫£n xu·∫•t</strong>: ƒê·∫ßy ƒë·ªß kh·∫£ nƒÉng server ProudNet</li>
                <li class="list-item"><strong class="text-strong">H·ªó tr·ª£ K·ªπ thu·∫≠t</strong>: Truy c·∫≠p h·ªó tr·ª£ k·ªπ thu·∫≠t ProudNet</li>
                <li class="list-item"><strong class="text-strong">T·ªëi ∆∞u h√≥a Hi·ªáu su·∫•t</strong>: C√°c t√≠nh nƒÉng hi·ªáu su·∫•t server n√¢ng cao</li>
            </ul>

            <h4 class="heading-4">L·ªánh Tri·ªÉn khai Docker</h4>

            <div class="code-block">
                <pre>cd tank_server/Server_CPP
docker-compose up</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Docker Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>C:\Users\wayne\Documents\proud_tank\tank_server\Server_CPP [master +5 ~14 -15 !]> docker-compose up
Compose can now delegate builds to bake for better performance.
 To do so, set COMPOSE_BAKE=true.
[+] Building 2.3s (22/22)                                                                                                                                 docker:desktop-linux 
[+] Building 2.3s (22/23)                                                                                                                                 docker:desktop-linux 
[+] Building 2.3s (23/23) FINISHED                                                                                                                        docker:desktop-linux 
 => [tank-server internal] load build definition from Dockerfile                                                                                                          0.0s 
 => => transferring dockerfile: 6.39kB                                                                                                                                    0.0s 
 => [tank-server internal] load metadata for docker.io/library/ubuntu:24.04                                                                                               1.9s 
 => [tank-server auth] library/ubuntu:pull token for registry-1.docker.io                                                                                                 0.0s 
 => [tank-server internal] load .dockerignore                                                                                                                             0.0s 
 => => transferring context: 2B                                                                                                                                           0.0s 
 => [tank-server  1/16] FROM docker.io/library/ubuntu:24.04@sha256:6015f66923d7afbc53558d7ccffd325d43b4e249f41a6e93eef074c9505d2233                                       0.0s 
 => [tank-server internal] load build context                                                                                                                             0.1s
 => => transferring context: 106.41kB                                                                                                                                     0.0s
 => CACHED [tank-server  2/16] RUN apt-get update && apt-get install -y     build-essential     cmake     git     libssl-dev     libssl3     libcurl4-openssl-dev     tz  0.0s
 => CACHED [tank-server  3/16] WORKDIR /app                                                                                                                               0.0s
 => CACHED [tank-server  4/16] COPY tank_server/Server_CPP/src /app/src/                                                                                                  0.0s
 => CACHED [tank-server  5/16] COPY tank_server/Server_CPP/include /app/include/                                                                                          0.0s
 => CACHED [tank-server  6/16] COPY tank_server/Server_CPP/CMakeLists.txt /app/CMakeLists.txt                                                                             0.0s
 => CACHED [tank-server  7/16] COPY tank_server/Common/Vars.cpp /app/Common/Vars.cpp                                                                                      0.0s
 => CACHED [tank-server  8/16] COPY tank_server/Common/Vars.h /app/Common/Vars.h                                                                                          0.0s
 => CACHED [tank-server  9/16] COPY ProudNet/include /app/ProudNet/include/                                                                                               0.0s
 => CACHED [tank-server 10/16] COPY ProudNet/lib/x86_x64-linux /app/ProudNet/lib/x86_x64-linux/                                                                           0.0s
 => CACHED [tank-server 11/16] COPY ProudNet/util/PNLicenseAuth /app/ProudNet/util/                                                                                       0.0s 
 => CACHED [tank-server 12/16] RUN if [ -f "tank_server/licensekey.txt" ] &&     [ "$(cat tank_server/licensekey.txt)" != "PUT_YOUR_PROUDNET_LICENSE_KEY_HERE" ]; then    0.0s 
 => CACHED [tank-server 13/16] RUN chmod +x /app/ProudNet/util/PNLicenseAuth &&     echo "System information:" &&     uname -a &&     echo "Current directory:" &&     p  0.0s 
 => CACHED [tank-server 14/16] RUN echo "Copied file structure:" &&     ls -la /app &&     echo "Common directory:" &&     ls -la /app/Common/ || echo "Failed to copy C  0.0s 
 => CACHED [tank-server 15/16] RUN echo '#!/bin/bash \necho "Server build starting..." \n\ncheck_file() { \n  if [ ! -f "$1" ]; then \n    echo "File not found: $1" \n   0.0s
 => CACHED [tank-server 16/16] RUN chmod +x /app/start.sh                                                                                                                 0.0s
 => [tank-server] exporting to image                                                                                                                                      0.0s 
 => => exporting layers                                                                                                                                                   0.0s 
 => => writing image sha256:cf987b1363c26bf89aa7ced6c0eca898573679bc92001c3aedee2ff1fe7c649e                                                                              0.0s 
 => => naming to docker.io/library/server_cpp-tank-server                                                                                                                 0.0s 
 => [tank-server] resolving provenance for metadata file                                                                                                                  0.0s 
[+] Running 2/2
 ‚úî tank-server                         Built                                                                                                                              0.0s 
 ‚úî Container server_cpp-tank-server-1  Created                                                                                                                            0.0s 
Attaching to tank-server-1
tank-server-1  | Server build starting...
tank-server-1  | File found: /app/Common/Vars.cpp
tank-server-1  | File found: /app/Common/Vars.h                                                                                                                                
tank-server-1  | Directory found: /app/ProudNet/lib/x86_64-linux                                                                                                              
tank-server-1  | ProudNet license check in progress...                                                                                                                         
tank-server-1  | License file information:                                                                                                                                     
tank-server-1  | total 18560                                                                                                                                                   
tank-server-1  | drwxr-xr-x 1 root root     4096 Jun  2 15:03 .
tank-server-1  | drwxr-xr-x 1 root root     4096 Jun  2 15:03 ..                                                                                                               
tank-server-1  | -rwxr-xr-x 1 root root 18987960 May 20 23:14 PNLicenseAuth                                                                                                    
tank-server-1  | License key file not found: /app/licensekey.txt                                                                                                               
tank-server-1  | Building without ProudNet license.                                                                                                                            
tank-server-1  | ODBC driver information:                                                                                                                                      
tank-server-1  | /app/start.sh: line 72: odbcinst: command not found                                                                                                           
tank-server-1  | Could not get ODBC information.
tank-server-1  | -- OpenSSL found: /usr/include
tank-server-1  | -- OpenSSL libraries: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so
tank-server-1  | -- OpenSSL version: 3.0.13                                                                                                                                    
tank-server-1  | -- CURL found: /usr/include/x86_64-linux-gnu                                                                                                                  
tank-server-1  | -- CURL libraries: /usr/lib/x86_64-linux-gnu/libcurl.so
tank-server-1  | -- CURL version: 8.5.0                                                                                                                                        
tank-server-1  | -- System check: Linux                                                                                                                                        
tank-server-1  | -- Current working directory: /app                                                                                                                            
tank-server-1  | -- Build type:                                                                                                                                                
tank-server-1  | -- ProudNet Path: /app/ProudNet                                                                                                                               
tank-server-1  | -- Operating System: Linux
tank-server-1  | -- Library path check: /app/ProudNet/lib/x86_64-linux                                                                                                        
tank-server-1  | -- Found Linux ProudNet library: /app/ProudNet/lib/x86_64-linux                                                                                              
tank-server-1  | -- Library file list: /app/ProudNet/lib/x86_64-linux/Debug;/app/ProudNet/lib/x86_64-linux/Release                                                           
tank-server-1  | -- Found ODBC library: /usr/lib/x86_64-linux-gnu/libodbc.so                                                                                                   
tank-server-1  | -- Found ODBCINST library: /usr/lib/x86_64-linux-gnu/libodbcinst.so
tank-server-1  | -- Linking OpenSSL libraries: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so                                                      
tank-server-1  | -- Linking CURL library: /usr/lib/x86_64-linux-gnu/libcurl.so                                                                                                 
tank-server-1  | -- Configuring done (0.1s)                                                                                                                                    
tank-server-1  | -- Generating done (0.0s)                                                                                                                                     
tank-server-1  | -- Build files have been written to: /app/build                                                                                                               
tank-server-1  | [100%] Built target TankGameServer
tank-server-1  | Build completed, attempting to start server...
tank-server-1  | Starting server without license (50 CCU limitation mode).                                                                                                     
tank-server-1  | No NIC binding though multiple NIC detected##Process=/app/build                                                                                               
tank-server-1  | ========== Tank Server Started ==========
tank-server-1  | TCP Server listening on 0.0.0.0:33334                                                                                                                         
tank-server-1  | WebSocket Server listening on 0.0.0.0:33335/ws                                                                                                                
tank-server-1  | Ready to accept connections from all network interfaces                                                                                                       
tank-server-1  | ==========================================                                                                                                                    
tank-server-1  | Server is running. Commands:                                                                                                                                  
tank-server-1  | status: Show connected clients                                                                                                                                
tank-server-1  | health [id]: Show tank health (all or specific ID)
tank-server-1  | damage id amount: Apply damage to a tank                                                                                                                      
tank-server-1  | heal id amount: Heal a tank                                                                                                                                   
tank-server-1  | respawn id x y: Respawn a tank at position (x,y)                                                                                                              
tank-server-1  | q: Quit server</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Ph√¢n t√≠ch Quy tr√¨nh X√¢y d·ª±ng Docker:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">X√¢y d·ª±ng ƒêa giai ƒëo·∫°n</strong>: S·ª≠ d·ª•ng h√¨nh ·∫£nh c∆° s·ªü Ubuntu 24.04 v·ªõi c√°c l·ªõp x√¢y d·ª±ng ƒë∆∞·ª£c cache</li>
                <li class="list-item"><strong class="text-strong">C√†i ƒë·∫∑t Ph·ª• thu·ªôc</strong>: C√†i ƒë·∫∑t build-essential, cmake, OpenSSL, th∆∞ vi·ªán ph√°t tri·ªÉn CURL</li>
                <li class="list-item"><strong class="text-strong">Sao ch√©p C·∫•u tr√∫c T·ªáp</strong>: Sao ch√©p t·ªáp ngu·ªìn, th∆∞ vi·ªán ProudNet v√† c·∫•u h√¨nh x√¢y d·ª±ng</li>
                <li class="list-item"><strong class="text-strong">Ph√°t hi·ªán Gi·∫•y ph√©p</strong>: Ki·ªÉm tra kh√≥a gi·∫•y ph√©p ProudNet (chuy·ªÉn v·ªÅ ch·∫ø ƒë·ªô gi·ªõi h·∫°n 50 CCU)</li>
                <li class="list-item"><strong class="text-strong">Ph√°t hi·ªán Th∆∞ vi·ªán</strong>: T·ª± ƒë·ªông t√¨m v√† li√™n k·∫øt th∆∞ vi·ªán h·ªá th·ªëng:
                    <ul class="unordered-list">
                        <li class="list-item"><strong class="text-strong">OpenSSL 3.0.13</strong>: H·ªó tr·ª£ SSL/TLS</li>
                        <li class="list-item"><strong class="text-strong">CURL 8.5.0</strong>: H·ªó tr·ª£ HTTP client</li>
                        <li class="list-item"><strong class="text-strong">ODBC</strong>: H·ªó tr·ª£ k·∫øt n·ªëi c∆° s·ªü d·ªØ li·ªáu</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">C·∫•u h√¨nh CMake</strong>: C·∫•u h√¨nh x√¢y d·ª±ng v·ªõi th∆∞ vi·ªán ProudNet ƒë·∫∑c th√π Linux</li>
                <li class="list-item"><strong class="text-strong">Bi√™n d·ªãch</strong>: X√¢y d·ª±ng th√†nh c√¥ng t·ªáp th·ª±c thi TankGameServer</li>
                <li class="list-item"><strong class="text-strong">Kh·ªüi ƒë·ªông Server</strong>: B·∫Øt ƒë·∫ßu trong ch·∫ø ƒë·ªô gi·ªõi h·∫°n 50 CCU (kh√¥ng c√≥ kh√≥a gi·∫•y ph√©p)</li>
            </ol>

            <p class="paragraph"><strong class="text-strong">üìã Chi ti·∫øt Docker Container:</strong></p>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">H√¨nh ·∫£nh c∆° s·ªü</strong>: Ubuntu 24.04 LTS</li>
                <li class="list-item"><strong class="text-strong">X√¢y d·ª±ng ƒëa giai ƒëo·∫°n</strong>: K√≠ch th∆∞·ªõc container ƒë∆∞·ª£c t·ªëi ∆∞u h√≥a</li>
                <li class="list-item"><strong class="text-strong">M·ªü c·ªïng</strong>: 33334-33335 ƒë∆∞·ª£c √°nh x·∫° ƒë·∫øn c·ªïng host</li>
                <li class="list-item"><strong class="text-strong">Th∆∞ vi·ªán ProudNet</strong>: T·ª± ƒë·ªông sao ch√©p v√† li√™n k·∫øt</li>
                <li class="list-item"><strong class="text-strong">S·∫µn s√†ng s·∫£n xu·∫•t</strong>: Ph·ª• thu·ªôc runtime t·ªëi thi·ªÉu</li>
            </ul>

            <h4 class="heading-4">Qu·∫£n l√Ω Docker Container</h4>

            <p class="paragraph"><strong class="text-strong">Xem container ƒëang ch·∫°y:</strong></p>
            <div class="code-block">
                <pre>docker ps</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt qu·∫£ Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>CONTAINER ID   IMAGE                    COMMAND                   CREATED       STATUS         PORTS                                  NAMES
dd96172cd51d   server_cpp-tank-server   "/bin/bash /app/star‚Ä¶"   2 hours ago   Up 7 seconds   0.0.0.0:33334-33335->33334-33335/tcp   server_cpp-tank-server-1</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Xem log server:</strong></p>
            <div class="code-block">
                <pre>docker logs server_cpp-tank-server-1</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">D·ª´ng server:</strong></p>
            <div class="code-block">
                <pre>docker-compose down</pre>
            </div>

            <h3 class="heading-3">B∆∞·ªõc 6: Ki·ªÉm tra Client ƒêa n·ªÅn t·∫£ng</h3>

            <p class="paragraph"><strong class="text-strong">üåê Ki·ªÉm tra Client C# ‚Üí Server C++ Docker:</strong></p>
            <p class="paragraph">Client C# c√≥ th·ªÉ k·∫øt n·ªëi v·ªõi server C++ ƒë∆∞·ª£c container h√≥a ch·∫°y tr√™n Ubuntu:</p>

            <div class="code-block">
                <pre># In another terminal, run the C# client
cd tank_server/Client/bin/Debug/net9.0
TankClient.exe</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">K·∫øt n·ªëi Client Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>Connected to server. My ID: 3</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Log Server Docker Mong ƒë·ª£i:</strong></p>
            <div class="code-block">
                <pre>tank-server-cpp  | Client 3 connected from 172.17.0.1:52341
tank-server-cpp  | New tank created for client 3 with tank type -1 and health 100/100</pre>
            </div>

            <h3 class="heading-3">L·ª£i √≠ch Ch√≠nh c·ªßa Tri·ªÉn khai C++:</h3>

            <p class="paragraph"><strong class="text-strong">üöÄ Hi·ªáu su·∫•t:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Hi·ªáu su·∫•t C++ g·ªëc cho c√°c t√¨nh hu·ªëng CCU cao</li>
                <li class="list-item">Qu·∫£n l√Ω b·ªô nh·ªõ v√† m·∫°ng ƒë∆∞·ª£c t·ªëi ∆∞u h√≥a</li>
                <li class="list-item">Ph√π h·ª£p cho server game s·∫£n xu·∫•t</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üêß ƒêa n·ªÅn t·∫£ng:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Ph√°t tri·ªÉn Windows v·ªõi Visual Studio/CMake</li>
                <li class="list-item">Tri·ªÉn khai Linux v·ªõi container Docker</li>
                <li class="list-item">Ubuntu 24.04 LTS cho m√¥i tr∆∞·ªùng s·∫£n xu·∫•t ·ªïn ƒë·ªãnh</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üì¶ Container h√≥a:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Tri·ªÉn khai Docker cho n·ªÅn t·∫£ng ƒë√°m m√¢y</li>
                <li class="list-item">C∆° s·ªü h·∫° t·∫ßng c√≥ th·ªÉ m·ªü r·ªông v·ªõi ƒëi·ªÅu ph·ªëi container</li>
                <li class="list-item">M√¥i tr∆∞·ªùng runtime c√¥ l·∫≠p v·ªõi ph·ª• thu·ªôc t·ªëi thi·ªÉu</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üîÑ T∆∞∆°ng th√≠ch Giao th·ª©c:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">100% t∆∞∆°ng th√≠ch v·ªõi client C#</li>
                <li class="list-item">ƒê·ªãnh nghƒ©a giao th·ª©c PIDL gi·ªëng h·ªát nhau</li>
                <li class="list-item">Di chuy·ªÉn li·ªÅn m·∫°ch gi·ªØa server C# v√† C++</li>
            </ul>

            <h3 class="heading-3">T√≠ch h·ª£p WebSocket</h3>

            <p class="paragraph"><strong class="text-strong">üåê Server WebSocket B·ªï sung (C·ªïng 33335):</strong></p>
            <p class="paragraph">Tri·ªÉn khai server C++ bao g·ªìm m·ªôt server WebSocket b·ªï sung ch·∫°y c√πng v·ªõi server TCP ch√≠nh:</p>

            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">TCP Server</strong>: C·ªïng 33334 (cho client C# desktop)</li>
                <li class="list-item"><strong class="text-strong">WebSocket Server</strong>: C·ªïng 33335/ws (cho client Unity WebGL)</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üéÆ H·ªó tr·ª£ Client Unity WebGL:</strong></p>
            <p class="paragraph">Ch·ª©c nƒÉng WebSocket n√†y ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát cho client tank Unity s·∫Ω ƒë∆∞·ª£c x√¢y d·ª±ng nh∆∞ ·ª©ng d·ª•ng WebGL:</p>

            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Game Tr√¨nh duy·ªát Web</strong>: Client Unity WebGL c√≥ th·ªÉ k·∫øt n·ªëi tr·ª±c ti·∫øp qua tr√¨nh duy·ªát web</li>
                <li class="list-item"><strong class="text-strong">Giao th·ª©c Game Gi·ªëng h·ªát</strong>: S·ª≠ d·ª•ng c√°c h√†m RMI Tank.PIDL t∆∞∆°ng ƒë·ªìng qua truy·ªÅn t·∫£i WebSocket</li>
                <li class="list-item"><strong class="text-strong">Multiplayer ƒêa n·ªÅn t·∫£ng</strong>: Client desktop (TCP) v√† client web (WebSocket) c√≥ th·ªÉ ch∆°i c√πng nhau trong c√πng phi√™n game</li>
                <li class="list-item"><strong class="text-strong">Kh√¥ng C·∫ßn C√†i ƒë·∫∑t</strong>: Ng∆∞·ªùi ch∆°i c√≥ th·ªÉ tham gia game ngay l·∫≠p t·ª©c qua b·∫•t k·ª≥ tr√¨nh duy·ªát web hi·ªán ƒë·∫°i n√†o</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">V√≠ d·ª• K·∫øt n·ªëi:</strong></p>
            <div class="code-block">
                <pre>ws://localhost:33335/ws  // Local development
ws://your-server.com:33335/ws  // Production deployment</pre>
            </div>

            <p class="paragraph">Ki·∫øn tr√∫c giao th·ª©c k√©p n√†y cho ph√©p t√≠ch h·ª£p li·ªÅn m·∫°ch gi·ªØa ·ª©ng d·ª•ng desktop truy·ªÅn th·ªëng v√† n·ªÅn t·∫£ng game d·ª±a tr√™n web hi·ªán ƒë·∫°i.</p>
        </section>

        <section id="multiplayer-movement-testing" class="md-section">
            <h2 class="heading-2">4. Multiplayer Movement Testing</h2>

            <p class="paragraph">Ph·∫ßn n√†y minh h·ªça m·ªôt t√¨nh hu·ªëng th·ª±c t·∫ø n∆°i hai client k·∫øt n·ªëi ƒë·ªìng th·ªùi v√† ki·ªÉm tra ch·ª©c nƒÉng di chuy·ªÉn tank.</p>

            <h3 class="heading-3">T√¨nh hu·ªëng Ki·ªÉm tra</h3>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">Client 1 (ID=3)</strong>: S·ª≠ d·ª•ng l·ªánh <code class="inline-code">move 1 1 0</code> ƒë·ªÉ di chuy·ªÉn ƒë·∫øn v·ªã tr√≠ (1,1) v·ªõi h∆∞·ªõng 0 ƒë·ªô</li>
                <li class="list-item"><strong class="text-strong">Client 2 (ID=4)</strong>: S·ª≠ d·ª•ng l·ªánh <code class="inline-code">move 2 2 90</code> ƒë·ªÉ di chuy·ªÉn ƒë·∫øn v·ªã tr√≠ (2,2) v·ªõi h∆∞·ªõng 90 ƒë·ªô</li>
            </ul>

            <h3 class="heading-3">Client 1 (ID=3) Console Log:</h3>
            <div class="code-block">
                <pre>Connected to server. My ID: 3
move 1 1 0
Status: Tank ID=3, Position=(1,1), Type=0, Health=100/100
OnPlayerJoined: Tank 4 joined at (64.18131,34.385406) with tank type -1
P2P: Member 3 joined group 5
P2P: Member 4 joined group 5
P2P: Added member 4 to group member list
OnTankHealthUpdated: Tank 4 health: 100/100
P2P: Received group info, Group ID: 5
>>> OTHER TANK 4 MOVED TO (2,2) dir=90</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Ph√¢n t√≠ch Log Client 1:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">X·ª≠ l√Ω Di chuy·ªÉn B·∫£n th√¢n</strong>: Sau khi th·ª±c hi·ªán l·ªánh <code class="inline-code">move 1 1 0</code>, tr·∫°ng th√°i tank c·ªßa ch√≠nh m√¨nh ƒë∆∞·ª£c c·∫≠p nh·∫≠t</li>
                <li class="list-item"><strong class="text-strong">Ph√°t hi·ªán Ng∆∞·ªùi ch∆°i M·ªõi</strong>: Nh·∫≠n s·ª± ki·ªán <code class="inline-code">OnPlayerJoined</code> khi Client 4 k·∫øt n·ªëi v·ªõi server</li>
                <li class="list-item"><strong class="text-strong">H√¨nh th√†nh Nh√≥m P2P</strong>: Nh√≥m P2P (ID: 5) ƒë∆∞·ª£c t·∫°o khi c√≥ 2+ client k·∫øt n·ªëi</li>
                <li class="list-item"><strong class="text-strong">Th√¥ng b√°o Di chuy·ªÉn Tank Kh√°c</strong>: Nh·∫≠n di chuy·ªÉn c·ªßa Client 4 theo th·ªùi gian th·ª±c v√† hi·ªÉn th·ªã n√≥</li>
            </ol>

            <h3 class="heading-3">Client 2 (ID=4) Console Log:</h3>
            <div class="code-block">
                <pre>Connected to server. My ID: 4
P2P: Member 4 joined group 5
P2P: Member 3 joined group 5
P2P: Added member 3 to group member list
OnPlayerJoined: Tank 3 joined at (1,1) with tank type -1
OnTankHealthUpdated: Tank 3 health: 100/100
P2P: Received group info, Group ID: 5
move 2 2 90
Status: Tank ID=4, Position=(2,2), Type=0, Health=100/100</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Ph√¢n t√≠ch Log Client 2:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">K·∫øt n·ªëi Server</strong>: K·∫øt n·ªëi th√†nh c√¥ng v·ªõi server v√† ƒë∆∞·ª£c g√°n ID 4</li>
                <li class="list-item"><strong class="text-strong">Tham gia Nh√≥m P2P</strong>: Tham gia nh√≥m P2P 5 c√πng v·ªõi Client 3 hi·ªán c√≥</li>
                <li class="list-item"><strong class="text-strong">Nh·∫≠n Th√¥ng tin Ng∆∞·ªùi ch∆°i Hi·ªán c√≥</strong>: Nh·∫≠n th√¥ng tin tank (v·ªã tr√≠, s·ª©c kh·ªèe) c·ªßa Client 3 ƒë√£ k·∫øt n·ªëi</li>
                <li class="list-item"><strong class="text-strong">Th·ª±c hi·ªán Di chuy·ªÉn B·∫£n th√¢n</strong>: S·ª≠ d·ª•ng l·ªánh <code class="inline-code">move 2 2 90</code> ƒë·ªÉ di chuy·ªÉn tank ƒë·∫øn v·ªã tr√≠ (2,2) v·ªõi h∆∞·ªõng 90 ƒë·ªô</li>
            </ol>

            <h3 class="heading-3">Server Console Log:</h3>
            <div class="code-block">
                <pre>New tank created for client 4 with tank type -1 and health 100/100
Sending existing player info to new client: ID=3, Type=-1, Health=100/100
Notifying existing client 3 about new player: ID=4, Type=-1, Health=100/100
P2P group created with 2 members, Group ID: 5
Sent P2P group info to client 3: P2P_GROUP_INFO:5
Sent P2P group info to client 4: P2P_GROUP_INFO:5
SendMove from client 4: pos=(2,2), direction=90</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Ph√¢n t√≠ch Log Server:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">X·ª≠ l√Ω Client M·ªõi</strong>: T·∫°o ƒë·ªëi t∆∞·ª£ng tank m·ªõi cho Client 4 (s·ª©c kh·ªèe ban ƒë·∫ßu 100/100)</li>
                <li class="list-item"><strong class="text-strong">ƒê·ªìng b·ªô h√≥a Th√¥ng tin Ng∆∞·ªùi ch∆°i</strong>:
                    <ul class="unordered-list">
                        <li class="list-item">G·ª≠i th√¥ng tin ng∆∞·ªùi ch∆°i hi·ªán c√≥ (ID=3) ƒë·∫øn client m·ªõi (ID=4)</li>
                        <li class="list-item">Th√¥ng b√°o cho client hi·ªán c√≥ (ID=3) v·ªÅ ng∆∞·ªùi ch∆°i m·ªõi (ID=4)</li>
                    </ul>
                </li>
                <li class="list-item"><strong class="text-strong">Qu·∫£n l√Ω Nh√≥m P2P</strong>: T·∫°o nh√≥m P2P (ID: 5) khi c√≥ 2+ client v√† ph√¢n ph·ªëi th√¥ng tin nh√≥m</li>
                <li class="list-item"><strong class="text-strong">X·ª≠ l√Ω L·ªánh Di chuy·ªÉn</strong>: Nh·∫≠n v√† x·ª≠ l√Ω cu·ªôc g·ªçi RMI <code class="inline-code">SendMove</code> c·ªßa Client 4</li>
            </ol>

            <h3 class="heading-3">X√°c minh T√≠nh nƒÉng Multiplayer C·ªët l√µi:</h3>

            <p class="paragraph"><strong class="text-strong">üîÑ ƒê·ªìng b·ªô h√≥a Th·ªùi gian th·ª±c:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Di chuy·ªÉn t·ª´ m·ªôt client ƒë∆∞·ª£c truy·ªÅn ngay l·∫≠p t·ª©c ƒë·∫øn t·∫•t c·∫£ client kh√°c</li>
                <li class="list-item">Server qu·∫£n l√Ω tr·∫°ng th√°i t·∫≠p trung v√† ph√°t s√≥ng ƒë·∫øn t·∫•t c·∫£ client</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üåê M·∫°ng P2P:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Nh√≥m P2P ƒë∆∞·ª£c h√¨nh th√†nh t·ª± ƒë·ªông khi c√≥ 2+ client k·∫øt n·ªëi</li>
                <li class="list-item">Giao ti·∫øp tr·ª±c ti·∫øp client-to-client c·∫£i thi·ªán hi·ªáu qu·∫£ m·∫°ng</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üìä Qu·∫£n l√Ω Tr·∫°ng th√°i:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">V·ªã tr√≠, h∆∞·ªõng v√† s·ª©c kh·ªèe c·ªßa m·ªói tank ƒë∆∞·ª£c ƒë·ªìng b·ªô h√≥a tr√™n t·∫•t c·∫£ client</li>
                <li class="list-item">Client k·∫øt n·ªëi m·ªõi t·ª± ƒë·ªông nh·∫≠n tr·∫°ng th√°i game hi·ªán c√≥</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üéÆ Logic Game:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Lo·∫°i tank, v·ªã tr√≠ v√† h∆∞·ªõng ƒë∆∞·ª£c truy·ªÅn v√† hi·ªÉn th·ªã ch√≠nh x√°c</li>
                <li class="list-item">H√†nh ƒë·ªông c·ªßa m·ªói ng∆∞·ªùi ch∆°i ƒë∆∞·ª£c ph·∫£n √°nh theo th·ªùi gian th·ª±c trong m√¥i tr∆∞·ªùng multiplayer</li>
            </ul>
        </section>

        <section id="fire-and-messaging-testing" class="md-section">
            <h2 class="heading-2">5. Ki·ªÉm tra B·∫Øn s√∫ng v√† Tin nh·∫Øn</h2>

            <p class="paragraph">Ngo√†i di chuy·ªÉn, c√°c client c√≥ th·ªÉ ki·ªÉm tra ch·ª©c nƒÉng b·∫Øn ƒë·∫°n v√† tin nh·∫Øn P2P.</p>

            <h3 class="heading-3">L·ªánh Ki·ªÉm tra M·ªü r·ªông</h3>
            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">L·ªánh B·∫Øn</strong>: <code class="inline-code">fire 180 10</code> - B·∫Øn ƒë·∫°n theo h∆∞·ªõng 180 ƒë·ªô v·ªõi l·ª±c 10</li>
                <li class="list-item"><strong class="text-strong">L·ªánh Tin nh·∫Øn</strong>: <code class="inline-code">msg hi</code> - G·ª≠i tin nh·∫Øn P2P "hi" ƒë·∫øn c√°c client k·∫øt n·ªëi kh√°c</li>
            </ul>

            <h3 class="heading-3">L·ªánh B·∫Øn v√† Tin nh·∫Øn Client 1 (ID=3):</h3>
            <div class="code-block">
                <pre>fire 180 10
Fire request sent: direction=180, force=10, position=(1, 1, 1)
Status: Tank ID=3, Position=(1,1), Type=0, Health=100/100
msg hi
P2P message sent via server: hi
Status: Tank ID=3, Position=(1,1), Type=0, Health=100/100</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Ph√¢n t√≠ch L·ªánh Client 1:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">Th·ª±c hi·ªán L·ªánh B·∫Øn</strong>: <code class="inline-code">fire 180 10</code> g·ª≠i ƒë·∫°n v·ªõi h∆∞·ªõng 180 ƒë·ªô v√† gi√° tr·ªã l·ª±c 10</li>
                <li class="list-item"><strong class="text-strong">X√°c nh·∫≠n B·∫Øn</strong>: Client nh·∫≠n x√°c nh·∫≠n v·ªõi v·ªã tr√≠ b·∫Øn v√† c√°c tham s·ªë</li>
                <li class="list-item"><strong class="text-strong">Th·ª±c hi·ªán L·ªánh Tin nh·∫Øn</strong>: <code class="inline-code">msg hi</code> g·ª≠i tin nh·∫Øn P2P ƒë·∫øn t·∫•t c·∫£ client k·∫øt n·ªëi</li>
                <li class="list-item"><strong class="text-strong">X√°c nh·∫≠n Tin nh·∫Øn</strong>: Client nh·∫≠n x√°c nh·∫≠n r·∫±ng tin nh·∫Øn ƒë√£ ƒë∆∞·ª£c g·ª≠i qua relay server</li>
            </ol>

            <h3 class="heading-3">Client 2 (ID=4) Nh·∫≠n S·ª± ki·ªán B·∫Øn v√† Tin nh·∫Øn:</h3>
            <div class="code-block">
                <pre>OnSpawnBullet: Tank 3 fired from (1,1) dir=180, force=10
Fire position: (1, 1, 1), shooter ID=3
P2P Message from Client ID 3 (relayed): hi</pre>
            </div>

            <p class="paragraph"><strong class="text-strong">Ph√¢n t√≠ch Ti·∫øp nh·∫≠n Client 2:</strong></p>
            <ol class="ordered-list">
                <li class="list-item"><strong class="text-strong">S·ª± ki·ªán Spawn ƒê·∫°n</strong>: Nh·∫≠n cu·ªôc g·ªçi RMI <code class="inline-code">OnSpawnBullet</code> v·ªõi v·ªã tr√≠ tank b·∫Øn v√† tham s·ªë ƒë·∫°n</li>
                <li class="list-item"><strong class="text-strong">Chi ti·∫øt B·∫Øn</strong>: Nh·∫≠n th√¥ng tin ƒë·∫ßy ƒë·ªß v·ªÅ ID ng∆∞·ªùi b·∫Øn, v·ªã tr√≠, h∆∞·ªõng v√† l·ª±c</li>
                <li class="list-item"><strong class="text-strong">Ti·∫øp nh·∫≠n Tin nh·∫Øn P2P</strong>: Nh·∫≠n tin nh·∫Øn P2P t·ª´ Client 3 ƒë∆∞·ª£c relay qua server</li>
            </ol>

            <h3 class="heading-3">T√≠nh nƒÉng Giao ti·∫øp Multiplayer Ch√≠nh:</h3>

            <p class="paragraph"><strong class="text-strong">üî´ H·ªá th·ªëng ƒê·∫°n:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">L·ªánh b·∫Øn ƒë∆∞·ª£c ƒë·ªìng b·ªô h√≥a tr√™n t·∫•t c·∫£ client theo th·ªùi gian th·ª±c</li>
                <li class="list-item">M·ªói client nh·∫≠n th√¥ng tin ƒë·∫°n ƒë·∫ßy ƒë·ªß (v·ªã tr√≠, h∆∞·ªõng, l·ª±c, ID ng∆∞·ªùi b·∫Øn)</li>
                <li class="list-item">S·ª± ki·ªán spawn ƒë·∫°n ƒë∆∞·ª£c ph√°t s√≥ng ƒë√∫ng c√°ch ƒë·ªÉ duy tr√¨ t√≠nh nh·∫•t qu√°n tr·∫°ng th√°i game</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üí¨ Tin nh·∫Øn P2P:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">Tin nh·∫Øn ƒë∆∞·ª£c g·ª≠i qua relay server ƒë·ªÉ ƒë·∫£m b·∫£o giao h√†ng</li>
                <li class="list-item">T·∫•t c·∫£ client k·∫øt n·ªëi nh·∫≠n tin nh·∫Øn t·ª´ b·∫•t k·ª≥ ng∆∞·ªùi g·ª≠i n√†o</li>
                <li class="list-item">Nh·∫≠n d·∫°ng ngu·ªìn tin nh·∫Øn (ID Client ng∆∞·ªùi g·ª≠i) ƒë∆∞·ª£c b·∫£o to√†n</li>
                <li class="list-item">Giao h√†ng tin nh·∫Øn ƒë√°ng tin c·∫≠y qua c∆° s·ªü h·∫° t·∫ßng P2P c·ªßa ProudNet</li>
            </ul>

            <p class="paragraph"><strong class="text-strong">üîÑ Ph√°t s√≥ng S·ª± ki·ªán:</strong></p>
            <ul class="unordered-list">
                <li class="list-item">T·∫•t c·∫£ h√†nh ƒë·ªông game (di chuy·ªÉn, b·∫Øn, nh·∫Øn tin) ƒë∆∞·ª£c truy·ªÅn ngay l·∫≠p t·ª©c</li>
                <li class="list-item">Tr·∫°ng th√°i game nh·∫•t qu√°n ƒë∆∞·ª£c duy tr√¨ tr√™n t·∫•t c·∫£ client k·∫øt n·ªëi</li>
                <li class="list-item">T∆∞∆°ng t√°c multiplayer th·ªùi gian th·ª±c m√† kh√¥ng c√≥ ƒë·ªô tr·ªÖ ƒë√°ng k·ªÉ</li>
            </ul>
        </section>

        <section id="troubleshooting" class="md-section">
            <h2 class="heading-2">Kh·∫Øc ph·ª•c s·ª± c·ªë</h2>

            <ul class="unordered-list">
                <li class="list-item"><strong class="text-strong">L·ªói x√¢y d·ª±ng</strong>: ƒê·∫£m b·∫£o c√°c DLL ProudNet ·ªü ƒë√∫ng ƒë∆∞·ªùng d·∫´n</li>
                <li class="list-item"><strong class="text-strong">K·∫øt n·ªëi th·∫•t b·∫°i</strong>: Ki·ªÉm tra xem server c√≥ ƒëang ch·∫°y v√† c√†i ƒë·∫∑t t∆∞·ªùng l·ª≠a</li>
                <li class="list-item"><strong class="text-strong">L·ªói bi√™n d·ªãch PIDL</strong>: X√°c minh <code class="inline-code">ProudNet/util/PIDL.exe</code> t·ªìn t·∫°i v√† c√≥ th·ªÉ truy c·∫≠p</li>
                <li class="list-item"><strong class="text-strong">Ngo·∫°i l·ªá runtime</strong>: X√°c nh·∫≠n t·∫•t c·∫£ DLL ProudNet ƒë∆∞·ª£c sao ch√©p v√†o th∆∞ m·ª•c ƒë·∫ßu ra</li>
            </ul>
        </section>
    </div>

    <!-- Ïù¥ÎØ∏ÏßÄ Î™®Îã¨ Ïª¥Ìè¨ÎÑåÌä∏ include -->
    <!-- Ïù¥ÎØ∏ÏßÄ Î™®Îã¨ - Î™®Îì† HTML Î¨∏ÏÑúÏóêÏÑú Ïû¨ÏÇ¨Ïö© Í∞ÄÎä•Ìïú Í≥µÌÜµ Ïª¥Ìè¨ÎÑåÌä∏ -->
    <div id="imageModal" class="image-modal">
        <div class="image-modal-content">
            <button class="image-modal-close" onclick="closeImageModal()">&times;</button>
            <img id="modalImage" class="image-modal-image" src="" alt="">
            <div id="modalCaption" class="image-modal-caption"></div>
        </div>
    </div>
    <!-- JavaScriptÎäî js/image-modal.jsÏóêÏÑú ÏûêÎèô Î°úÎìúÎê® -->
</body>
</html>
 