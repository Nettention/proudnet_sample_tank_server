# Windows Container Manual Commands
# Run these commands directly in PowerShell after switching Docker to Windows container mode

# 1. Create a directory for the build
mkdir -p windows_manual

# 2. Copy application files
Copy-Item ".\bin\Debug\net9.0\*" -Destination "windows_manual\" -Recurse
Copy-Item ".\ProudNet_libs\*.dll" -Destination "windows_manual\"

# 3. Create a simple Dockerfile
@"
FROM mcr.microsoft.com/dotnet/runtime:9.0-nanoserver-ltsc2022

WORKDIR /app
COPY . .
EXPOSE 33334

ENTRYPOINT ["dotnet", "TankServer.dll"]
"@ | Out-File -FilePath "windows_manual\Dockerfile" -Encoding ascii

# 4. Build the image
cd windows_manual
docker build -t tank-server-manual .

# 5. Run the container
docker run -it --rm -p 33334:33334 tank-server-manual 